var Je=Object.create,ie=Object.defineProperty,Qe=Object.getPrototypeOf,Ye=Object.prototype.hasOwnProperty,Xe=Object.getOwnPropertyNames,Ze=Object.getOwnPropertyDescriptor;var se=t=>ie(t,"__esModule",{value:!0});var et=(t,e)=>()=>(e||(e={exports:{}},t(e.exports,e)),e.exports),ve=(t,e)=>{for(var i in e)ie(t,i,{get:e[i],enumerable:!0})},tt=(t,e,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of Xe(e))!Ye.call(t,o)&&o!=="default"&&ie(t,o,{get:()=>e[o],enumerable:!(i=Ze(e,o))||i.enumerable});return t},U=t=>tt(se(ie(t!=null?Je(Qe(t)):{},"default",t&&t.__esModule&&"default"in t?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t);var D=et(it=>{se(it);ve(it,{SUPPORTED_LANGUAGES:()=>Z,TRANSLATIONS:()=>Q,getDefaultLanguage:()=>ot,getLanguageByCode:()=>rt,getTranslation:()=>nt});function nt(t,e,i){let a=Q[t]||Q.en,n=Q.en,s=e.split("."),u=(c,d)=>{let m=c;for(let v of d)if(m&&typeof m=="object"&&v in m)m=m[v];else return;return m},l=u(a,s);if(typeof l!="string"&&a!==n&&(l=u(n,s)),typeof l!="string")return e;if(i)for(let[c,d]of Object.entries(i))l=l.replace(`{${c}}`,String(d));return l}function rt(t){return Z.find(e=>e.code===t)}function ot(){return Z[0]}});se(exports);ve(exports,{NotelertPlugin:()=>be,default:()=>dt});var K=U(require("obsidian"));var ke={autoProcess:!1,processOnSave:!1,processOnOpen:!1,debugMode:!1,language:"es",customPatterns:[],excludedFolders:["Templates","Archive","Trash"],debounceDelay:3e3,useDebounce:!1,showConfirmationModal:!1,addVisualIndicators:!1,visualIndicatorIcon:"\u23F0",useNewSyntax:!0,enableDatePicker:!0,datePickerTrigger:":@",userEmail:"",userId:"",pluginToken:"",scheduledEmails:[]};var q=U(require("obsidian"));var Z=[{code:"es",name:"Spanish",nativeName:"Espa\xF1ol",keywords:["Recordar:","Notificar:","Alerta:","Recordatorio:","Aviso:","Reminder:","Notify:","Alert:"],datePatterns:{today:["hoy"],tomorrow:["ma\xF1ana"],yesterday:["ayer"]},timePatterns:{format24h:["HH:MM","H:MM"],format12h:["HH:MM AM/PM","H:MM AM/PM"]}},{code:"ca",name:"Catalan",nativeName:"Catal\xE0",keywords:["Recordar:","Notificar:","Alerta:","Recordatori:","Av\xEDs:","Reminder:","Notify:","Alert:"],datePatterns:{today:["avui"],tomorrow:["dem\xE0"],yesterday:["ahir"]},timePatterns:{format24h:["HH:MM","H:MM"],format12h:["HH:MM AM/PM","H:MM AM/PM"]}},{code:"en",name:"English",nativeName:"English",keywords:["Remember:","Notify:","Alert:","Reminder:","Notice:","Remind:","Alert:","Warning:"],datePatterns:{today:["today"],tomorrow:["tomorrow"],yesterday:["yesterday"]},timePatterns:{format24h:["HH:MM","H:MM"],format12h:["HH:MM AM/PM","H:MM AM/PM"]}},{code:"fr",name:"French",nativeName:"Fran\xE7ais",keywords:["Rappeler:","Notifier:","Alerte:","Rappel:","Avis:","Reminder:","Notify:","Alert:"],datePatterns:{today:["aujourd'hui","aujourd hui"],tomorrow:["demain"],yesterday:["hier"]},timePatterns:{format24h:["HH:MM","H:MM"],format12h:["HH:MM AM/PM","H:MM AM/PM"]}},{code:"de",name:"German",nativeName:"Deutsch",keywords:["Erinnern:","Benachrichtigen:","Alarm:","Erinnerung:","Hinweis:","Reminder:","Notify:","Alert:"],datePatterns:{today:["heute"],tomorrow:["morgen"],yesterday:["gestern"]},timePatterns:{format24h:["HH:MM","H:MM"],format12h:["HH:MM AM/PM","H:MM AM/PM"]}},{code:"pt",name:"Portuguese",nativeName:"Portugu\xEAs",keywords:["Lembrar:","Notificar:","Alerta:","Lembrete:","Aviso:","Reminder:","Notify:","Alert:"],datePatterns:{today:["hoje"],tomorrow:["amanh\xE3","amanha"],yesterday:["ontem"]},timePatterns:{format24h:["HH:MM","H:MM"],format12h:["HH:MM AM/PM","H:MM AM/PM"]}}];var Q={es:{settings:{title:"Configuraci\xF3n de Notelert",autoProcess:"Procesamiento autom\xE1tico",autoProcessDesc:"Activar el procesamiento autom\xE1tico de patrones",processOnSave:"Procesar al guardar",processOnSaveDesc:"Procesar autom\xE1ticamente cuando se guarda una nota",processOnOpen:"Procesar al abrir",processOnOpenDesc:"Procesar autom\xE1ticamente cuando se abre una nota",debugMode:"Modo debug",debugModeDesc:"Mostrar mensajes de debug en la consola",language:"Idioma",languageDesc:"Seleccionar idioma para detecci\xF3n de patrones",excludedFolders:"Carpetas excluidas",excludedFoldersDesc:"Carpetas que no se procesar\xE1n (separadas por comas)",customPatterns:"Palabras clave personalizadas",customPatternsDesc:"Palabras que activan el procesamiento (separadas por comas)",useDebounce:"Usar retraso inteligente",useDebounceDesc:"Esperar a que termines de escribir antes de procesar (evita notificaciones duplicadas)",debounceDelay:"Tiempo de espera (segundos)",debounceDelayDesc:"Tiempo a esperar despu\xE9s del \xFAltimo cambio antes de procesar",showConfirmationModal:"Mostrar modal de confirmaci\xF3n",showConfirmationModalDesc:"Preguntar antes de crear cada notificaci\xF3n",addVisualIndicators:"A\xF1adir iconos visuales",addVisualIndicatorsDesc:"A\xF1adir iconos a los recordatorios procesados para identificarlos visualmente",visualIndicatorIcon:"Icono visual",visualIndicatorIconDesc:"Icono a a\xF1adir al final de los recordatorios procesados",useNewSyntax:"Usar nuevo sistema",useNewSyntaxDesc:"Usar el nuevo formato :@fecha, hora en lugar del sistema anterior",enableDatePicker:"Activar date picker",enableDatePickerDesc:"Abrir autom\xE1ticamente el selector de fecha al escribir :@",supportedPatterns:"Patrones soportados",keywords:"Palabras clave",dates:"Fechas:",times:"Horas:",examples:"Ejemplos:",basicSettings:"Configuraci\xF3n b\xE1sica",appRequired:{title:"\u{1F4F1} App de Android Requerida",message:"Este plugin requiere instalar la app de Android para funcionar. Una vez instalada, genera un token desde Settings > Plugin Token en la app y config\xFAralo aqu\xED.",downloadLink:"Descargar app de Android"},pluginToken:{title:"\u{1F511} Token del plugin",descDesktop:"Token de autenticaci\xF3n para usar geocodificaci\xF3n y emails premium. Obt\xE9n tu token desde la app m\xF3vil en Settings > Plugin Token.",descMobile:"Token de autenticaci\xF3n para usar geocodificaci\xF3n premium. Obt\xE9n tu token desde la app m\xF3vil en Settings > Plugin Token.",placeholder:"Pega tu token aqu\xED...",showHide:"Mostrar/Ocultar"},desktopSettings:{title:"\u{1F4BB} Configuraci\xF3n de escritorio",userEmailTitle:"Email del usuario (opcional)",userEmailDesc:"Email donde recibir\xE1s las notificaciones. Ya no es necesario si usas token del plugin.",userEmailPlaceholder:"usuario@email.com"},scheduledEmails:{title:"\u{1F4E7} Emails programados",desc:"Gestiona tus emails programados. Puedes cancelarlos antes de que se env\xEDen.",empty:"No hay emails programados. Los emails que programes aparecer\xE1n aqu\xED.",cancelButton:"\u{1F5D1}\uFE0F Cancelar",canceling:"Cancelando...",cancelSuccess:"\u2705 Email cancelado correctamente",cancelError:"\u274C Error al cancelar email",past:"(Pasado)"},mobileSettings:{title:"\u{1F4F1} Configuraci\xF3n m\xF3vil"},savedLocations:{title:"\u{1F4CD} Ubicaciones guardadas",desc:"Gestiona tus ubicaciones favoritas. Estas aparecer\xE1n cuando selecciones 'Ubicaci\xF3n' al crear una notificaci\xF3n.",addTitle:"A\xF1adir nueva ubicaci\xF3n",addDesc:"Abre el selector de ubicaciones con mapa para a\xF1adir una nueva ubicaci\xF3n",addButton:"\u2795 A\xF1adir ubicaci\xF3n",empty:"No hay ubicaciones guardadas. Haz clic en 'A\xF1adir ubicaci\xF3n' para empezar.",editButton:"\u270F\uFE0F Editar",deleteButton:"\u{1F5D1}\uFE0F"}},commands:{processCurrentNote:"Procesar nota actual para Notelert",processAllNotes:"Procesar todas las notas para Notelert",clearProcessedHistory:"Limpiar historial de procesamiento"},notices:{noActiveNote:"No hay ninguna nota abierta para procesar",processedNotes:"Procesadas {count} notas para Notelert",processedNote:"Procesada: {filename} ({count} notificaciones)",clearedHistory:"Historial de procesamiento limpiado",errorCreatingNotification:"Error creando notificaci\xF3n: {title}",defaultTitle:"Recordatorio",desktopConfigRequired:"\u274C Configura tu email y API Key en Settings para usar Notelert en desktop",locationNotSupportedDesktop:"\u274C Las notificaciones de ubicaci\xF3n solo est\xE1n disponibles en m\xF3vil",emailScheduled:"\u2705 Email programado correctamente",tokenLinked:"\u2705 Token vinculado correctamente desde la app m\xF3vil",tokenLinkError:"\u274C Error al vincular token",tokenInvalidFormat:"\u274C Formato de token inv\xE1lido",tokenInvalid403:"\u274C Token inv\xE1lido o expirado. Genera un nuevo token en la app (Settings > Token del Plugin) y vinc\xFAlalo de nuevo.",linkError400:"\u274C Error de vinculaci\xF3n. Vuelve a realizar el v\xEDnculo desde la app y reinicia el plugin.",pushNotificationScheduled:"\u2705 Notificaci\xF3n programada correctamente",pushNotificationScheduledLocation:"\u2705 Notificaci\xF3n de ubicaci\xF3n programada correctamente",tokenRequiredNotice:"\u{1F511} Token del plugin requerido. Configura tu token en Settings.",iosNotSupported:`\u26A0\uFE0F iOS detectado

Notelert actualmente solo est\xE1 disponible para Android.
La app de iOS est\xE1 en desarrollo. Por favor, usa un dispositivo Android para crear notificaciones.`},modal:{title:"\xBFCrear notificaci\xF3n en Notelert?",titleLabel:"T\xEDtulo:",dateLabel:"Fecha:",timeLabel:"Hora:",messageLabel:"Mensaje:",confirmButton:"S\xED, crear notificaci\xF3n",cancelButton:"Cancelar"},datePicker:{title:"Seleccionar fecha y hora",dateLabel:"Fecha:",timeLabel:"Hora:",quickActions:"Acciones r\xE1pidas:",today:"Hoy",tomorrow:"Ma\xF1ana",in1Hour:"En 1 hora",in2Hours:"En 2 horas",confirmButton:"Confirmar notificaci\xF3n",cancelButton:"Cancelar",selectDateTime:"Por favor, selecciona una fecha y hora",notificationType:"Tipo de notificaci\xF3n:",timeNotification:"Tiempo",locationNotification:"Ubicaci\xF3n",noSavedLocations:"No hay ubicaciones guardadas. Ve a Settings para a\xF1adir ubicaciones.",noSavedLocationsTitle:"No hay ubicaciones guardadas",noSavedLocationsDesc:`Para crear ubicaciones:
1. Abre la app Notelert en tu m\xF3vil
2. Ve a Settings > Mis Ubicaciones
3. A\xF1ade ubicaciones desde el mapa
4. Vuelve aqu\xED y recarga la lista`,reloadLocations:"\u{1F504} Recargar ubicaciones",loadingLocations:"Cargando ubicaciones...",premiumRequiredTitle:"Plan Premium requerido",premiumRequiredDesc:`Las notificaciones de ubicaci\xF3n solo est\xE1n disponibles en el plan Premium.

Actualiza a Premium para usar esta funci\xF3n.`,openAppToUpgrade:"\u{1F4F1} Abrir app para actualizar",installApp:"\u{1F4E5} Instalar app desde Play Store",locationsErrorDesc:`Verifica que:
1. El token sea correcto
2. Tengas ubicaciones guardadas en la app
3. Usa el bot\xF3n 'Ver logs' para m\xE1s detalles`,tokenRequiredTitle:"Token del plugin requerido",tokenRequiredDesc:`Las notificaciones de ubicaci\xF3n requieren un usuario Premium con token v\xE1lido.

Para obtener tu token:
1. Abre la app Notelert en tu m\xF3vil
2. Ve a Settings > Token del Plugin
3. Copia el token y p\xE9galo en Settings > Notelert > Plugin Token`,openSettings:"\u2699\uFE0F Abrir Settings",selectSavedLocation:"Seleccionar Ubicaci\xF3n Guardada",hours:"Horas",minutes:"Minutos",selectLocationTitle:"Selecciona una ubicaci\xF3n:"},locationPicker:{title:"Seleccionar Ubicaci\xF3n",searchPlaceholder:"Buscar direcci\xF3n o lugar...",radius:"Radio (metros):",favorites:"Ubicaciones Favoritas",cancelButton:"Cancelar",confirmButton:"Confirmar",noFavorites:"No hay ubicaciones guardadas",selectButton:"Seleccionar",deleteButton:"Eliminar",saveFavorite:"\u2B50 Guardar",saved:"\u2713 Guardado",searching:"Buscando...",noResults:"No se encontraron resultados",error:"Error al buscar ubicaciones",connectionError:"Error de conexi\xF3n. Verifica tu conexi\xF3n a internet.",rateLimit:"Demasiadas solicitudes. Espera un momento antes de buscar de nuevo.",apiKeyError:"Error: API key no configurada o inv\xE1lida. Verifica la configuraci\xF3n.",selectLocation:"Selecciona una ubicaci\xF3n de los resultados o de tus favoritas",locationSelected:"Ubicaci\xF3n seleccionada",loadingMap:"Cargando mapa...",debugMap:"\u{1F50D} Debug Mapa",mapError:"\u26A0\uFE0F Error",mapErrorTitle:"Error al cargar el mapa",googleMapsError:"Google Maps no se carg\xF3 correctamente",nameLocationTitle:"Nombrar ubicaci\xF3n",nameLocationPlaceholder:"Introduce un nombre para esta ubicaci\xF3n",nameLocationConfirm:"Guardar",nameLocationCancel:"Cancelar"},recurrence:{repeat:"\u{1F504} Repetir",repeatLabel:"Repetir",every:"Cada",day:"D\xEDa(s)",week:"Semana(s)",month:"Mes(es)",year:"A\xF1o(s)",ends:"Termina:",never:"Nunca",after:"Despu\xE9s de",times:"veces",onDate:"En fecha",premiumHint:"\u2B50 Actualiza a Premium para usar notificaciones recurrentes",premiumRequired:"Las notificaciones recurrentes son una funci\xF3n Premium",premiumRequiredDesc:"Actualiza a Premium para crear recordatorios que se repiten autom\xE1ticamente.",openApp:"\u{1F4F1} Abrir app para actualizar"}},en:{settings:{title:"Notelert Settings",autoProcess:"Automatic processing",autoProcessDesc:"Enable automatic pattern processing",processOnSave:"Process on save",processOnSaveDesc:"Automatically process when saving a note",processOnOpen:"Process on open",processOnOpenDesc:"Automatically process when opening a note",debugMode:"Debug mode",debugModeDesc:"Show debug messages in console",language:"Language",languageDesc:"Select language for pattern detection",excludedFolders:"Excluded folders",excludedFoldersDesc:"Folders that will not be processed (comma separated)",customPatterns:"Custom keywords",customPatternsDesc:"Words that trigger processing (comma separated)",useDebounce:"Use smart delay",useDebounceDesc:"Wait for you to finish typing before processing (prevents duplicate notifications)",debounceDelay:"Wait time (seconds)",debounceDelayDesc:"Time to wait after last change before processing",showConfirmationModal:"Show confirmation modal",showConfirmationModalDesc:"Ask before creating each notification",addVisualIndicators:"Add visual indicators",addVisualIndicatorsDesc:"Add icons to processed reminders to identify them visually",visualIndicatorIcon:"Visual icon",visualIndicatorIconDesc:"Icon to add at the end of processed reminders",useNewSyntax:"Use new system",useNewSyntaxDesc:"Use the new :@date, time format instead of the previous system",enableDatePicker:"Enable date picker",enableDatePickerDesc:"Automatically open date selector when typing :@",supportedPatterns:"Supported patterns",keywords:"Keywords",dates:"Dates:",times:"Times:",examples:"Examples:",basicSettings:"Basic settings",appRequired:{title:"\u{1F4F1} Android App Required",message:"This plugin requires installing the Android app to work. Once installed, generate a token from Settings > Plugin Token in the app and configure it here.",downloadLink:"Download Android app"},pluginToken:{title:"\u{1F511} Plugin token",descDesktop:"Authentication token for premium geocoding and emails. Get your token from the mobile app in Settings > Plugin Token.",descMobile:"Authentication token for premium geocoding. Get your token from the mobile app in Settings > Plugin Token.",placeholder:"Paste your token here...",showHide:"Show/Hide"},desktopSettings:{title:"\u{1F4BB} Desktop settings",userEmailTitle:"User email (optional)",userEmailDesc:"Email where you will receive notifications. No longer needed if using plugin token.",userEmailPlaceholder:"user@email.com"},scheduledEmails:{title:"\u{1F4E7} Scheduled emails",desc:"Manage your scheduled emails. You can cancel them before they are sent.",empty:"No scheduled emails. Emails you schedule will appear here.",cancelButton:"\u{1F5D1}\uFE0F Cancel",canceling:"Canceling...",cancelSuccess:"\u2705 Email canceled successfully",cancelError:"\u274C Error canceling email",past:"(Past)"},mobileSettings:{title:"\u{1F4F1} Mobile settings"},savedLocations:{title:"\u{1F4CD} Saved locations",desc:"Manage your favorite locations. These will appear when you select 'Location' when creating a notification.",addTitle:"Add new location",addDesc:"Open location picker with map to add a new location",addButton:"\u2795 Add location",empty:"No saved locations. Click 'Add location' to start.",editButton:"\u270F\uFE0F Edit",deleteButton:"\u{1F5D1}\uFE0F"}},commands:{processCurrentNote:"Process current note for Notelert",processAllNotes:"Process all notes for Notelert",clearProcessedHistory:"Clear processing history"},notices:{noActiveNote:"No active note to process",processedNotes:"Processed {count} notes for Notelert",processedNote:"Processed: {filename} ({count} notifications)",clearedHistory:"Processing history cleared",errorCreatingNotification:"Error creating notification: {title}",defaultTitle:"Reminder",desktopConfigRequired:"\u274C Configure your email and API Key in Settings to use Notelert on desktop",locationNotSupportedDesktop:"\u274C Location notifications are only available on mobile",emailScheduled:"\u2705 Email scheduled successfully",tokenLinked:"\u2705 Token linked successfully from mobile app",tokenLinkError:"\u274C Error linking token",tokenInvalidFormat:"\u274C Invalid token format",tokenInvalid403:"\u274C Invalid or expired token. Generate a new token in the app (Settings > Plugin Token) and link it again.",linkError400:"\u274C Linking error. Please perform the link again from the app and restart the plugin.",pushNotificationScheduled:"\u2705 Notification scheduled successfully",pushNotificationScheduledLocation:"\u2705 Location notification scheduled successfully",tokenRequiredNotice:"\u{1F511} Plugin token required. Configure your token in Settings.",iosNotSupported:`\u26A0\uFE0F iOS detected

Notelert is currently only available for Android.
The iOS app is under development. Please use an Android device to create notifications.`},modal:{title:"Create notification in Notelert?",titleLabel:"Title:",dateLabel:"Date:",timeLabel:"Time:",messageLabel:"Message:",confirmButton:"Yes, create notification",cancelButton:"Cancel"},datePicker:{title:"Select date and time",dateLabel:"Date:",timeLabel:"Time:",quickActions:"Quick actions:",today:"Today",tomorrow:"Tomorrow",in1Hour:"In 1 hour",in2Hours:"In 2 hours",confirmButton:"Confirm notification",cancelButton:"Cancel",selectDateTime:"Please select a date and time",notificationType:"Notification type:",timeNotification:"Time",locationNotification:"Location",noSavedLocations:"No saved locations. Go to Settings to add locations.",noSavedLocationsTitle:"No saved locations",noSavedLocationsDesc:`To create locations:
1. Open the Notelert app on your mobile
2. Go to Settings > My Locations
3. Add locations from the map
4. Come back here and reload the list`,reloadLocations:"\u{1F504} Reload locations",loadingLocations:"Loading locations...",premiumRequiredTitle:"Premium Plan Required",premiumRequiredDesc:`Location notifications are only available in the Premium plan.

Upgrade to Premium to use this feature.`,openAppToUpgrade:"\u{1F4F1} Open app to upgrade",installApp:"\u{1F4E5} Install app from Play Store",locationsErrorDesc:`Please verify:
1. The token is correct
2. You have saved locations in the app
3. Use the 'View logs' button for more details`,tokenRequiredTitle:"Plugin token required",tokenRequiredDesc:`Location notifications require a Premium user with a valid token.

To get your token:
1. Open the Notelert app on your mobile
2. Go to Settings > Plugin Token
3. Copy the token and paste it in Settings > Notelert > Plugin Token`,openSettings:"\u2699\uFE0F Open Settings",selectSavedLocation:"Select Saved Location",hours:"Hours",minutes:"Minutes",selectLocationTitle:"Select a location:"},locationPicker:{title:"Select Location",searchPlaceholder:"Search address or place...",radius:"Radius (meters):",favorites:"Favorite Locations",cancelButton:"Cancel",confirmButton:"Confirm",noFavorites:"No saved locations",selectButton:"Select",deleteButton:"Delete",saveFavorite:"\u2B50 Save",saved:"\u2713 Saved",searching:"Searching...",noResults:"No results found",error:"Error searching locations",connectionError:"Connection error. Check your internet connection.",rateLimit:"Too many requests. Wait a moment before searching again.",apiKeyError:"Error: API key not configured or invalid. Check your settings.",selectLocation:"Select a location from results or your favorites",locationSelected:"Location selected",loadingMap:"Loading map...",debugMap:"\u{1F50D} Debug Map",mapError:"\u26A0\uFE0F Error",mapErrorTitle:"Error loading map",googleMapsError:"Google Maps did not load correctly",nameLocationTitle:"Name Location",nameLocationPlaceholder:"Enter a name for this location",nameLocationConfirm:"Save",nameLocationCancel:"Cancel"},recurrence:{repeat:"\u{1F504} Repeat",repeatLabel:"Repeat",every:"Every",day:"Day(s)",week:"Week(s)",month:"Month(s)",year:"Year(s)",ends:"Ends:",never:"Never",after:"After",times:"times",onDate:"On date",premiumHint:"\u2B50 Upgrade to Premium to use recurring notifications",premiumRequired:"Recurring notifications are a Premium feature",premiumRequiredDesc:"Upgrade to Premium to create reminders that repeat automatically.",openApp:"\u{1F4F1} Open app to upgrade"}},ca:{settings:{title:"Configuraci\xF3 de Notelert",autoProcess:"Processament autom\xE0tic",autoProcessDesc:"Activar el processament autom\xE0tic de patrons",processOnSave:"Processar en desar",processOnSaveDesc:"Processar autom\xE0ticament quan es desa una nota",processOnOpen:"Processar en obrir",processOnOpenDesc:"Processar autom\xE0ticament quan s'obre una nota",debugMode:"Mode debug",debugModeDesc:"Mostrar missatges de debug a la consola",language:"Idioma",languageDesc:"Seleccionar idioma per a la detecci\xF3 de patrons",excludedFolders:"Carpetes excloses",excludedFoldersDesc:"Carpetes que no es processaran (separades per comes)",customPatterns:"Paraules clau personalitzades",customPatternsDesc:"Paraules que activen el processament (separades per comes)",useDebounce:"Usar retard intel\xB7ligent",useDebounceDesc:"Esperar que acabis d'escriure abans de processar (evita notificacions duplicades)",debounceDelay:"Temps d'espera (segons)",debounceDelayDesc:"Temps a esperar despr\xE9s del darrer canvi abans de processar",showConfirmationModal:"Mostrar modal de confirmaci\xF3",showConfirmationModalDesc:"Preguntar abans de crear cada notificaci\xF3",addVisualIndicators:"Afegir indicadors visuals",addVisualIndicatorsDesc:"Afegir icones als recordatoris processats per identificar-los visualment",visualIndicatorIcon:"Icona visual",visualIndicatorIconDesc:"Icona a afegir al final dels recordatoris processats",useNewSyntax:"Usar nou sistema",useNewSyntaxDesc:"Usar el nou format :@data, hora en lloc del sistema anterior",enableDatePicker:"Activar selector de data",enableDatePickerDesc:"Obrir autom\xE0ticament el selector de data en escriure :@",supportedPatterns:"Patrons Suportats",keywords:"Paraules clau",dates:"Dates:",times:"Hores:",examples:"Exemples:",basicSettings:"Configuraci\xF3 B\xE0sica",appRequired:{title:"\u{1F4F1} App d'Android Requerida",message:"Aquest plugin requereix instal\xB7lar l'app d'Android per funcionar. Un cop instal\xB7lada, genera un token des de Configuraci\xF3 > Token del Plugin a l'app i configura'l aqu\xED.",downloadLink:"Descarregar app d'Android"},pluginToken:{title:"\u{1F511} Token del Plugin",descDesktop:"Token d'autenticaci\xF3 per utilitzar geocodificaci\xF3 i correus electr\xF2nics premium. Obteniu el vostre token des de l'aplicaci\xF3 m\xF2bil a Configuraci\xF3 > Token del Plugin.",descMobile:"Token d'autenticaci\xF3 per utilitzar geocodificaci\xF3 premium. Obteniu el vostre token des de l'aplicaci\xF3 m\xF2bil a Configuraci\xF3 > Token del Plugin.",placeholder:"Enganxa el teu token aqu\xED...",showHide:"Mostra/Amaga"},desktopSettings:{title:"\u{1F4BB} Configuraci\xF3 d'Escriptori",userEmailTitle:"Correu electr\xF2nic de l'usuari (Opcional)",userEmailDesc:"Correu electr\xF2nic on rebr\xE0s les notificacions. Ja no \xE9s necessari si utilitzes el token del plugin.",userEmailPlaceholder:"usuari@email.com"},scheduledEmails:{title:"\u{1F4E7} Correus electr\xF2nics programats",desc:"Gestiona els teus correus electr\xF2nics programats. Pots cancel\xB7lar-los abans que s'envi\xEFn.",empty:"No hi ha correus electr\xF2nics programats. Els correus que programis apareixeran aqu\xED.",cancelButton:"\u{1F5D1}\uFE0F Cancel\xB7lar",canceling:"Cancel\xB7lant...",cancelSuccess:"\u2705 Correu electr\xF2nic cancel\xB7lat correctament",cancelError:"\u274C Error en cancel\xB7lar el correu electr\xF2nic",past:"(Passat)"},mobileSettings:{title:"\u{1F4F1} Configuraci\xF3 M\xF2bil"},savedLocations:{title:"\u{1F4CD} Ubicacions Guardades",desc:"Gestiona les teves ubicacions preferides. Aquestes apareixeran quan seleccionis 'Ubicaci\xF3' en crear una notificaci\xF3.",addTitle:"Afegir Nova Ubicaci\xF3",addDesc:"Obre el selector d'ubicacions amb mapa per afegir una nova ubicaci\xF3",addButton:"\u2795 Afegir Ubicaci\xF3",empty:"No hi ha ubicacions guardades. Fes clic a 'Afegir Ubicaci\xF3' per comen\xE7ar.",editButton:"\u270F\uFE0F Editar",deleteButton:"\u{1F5D1}\uFE0F"}},commands:{processCurrentNote:"Processar nota actual per a Notelert",processAllNotes:"Processar totes les notes per a Notelert",clearProcessedHistory:"Netejar historial de processament"},notices:{noActiveNote:"No hi ha cap nota oberta per processar",processedNotes:"Processades {count} notes per a Notelert",processedNote:"Processada: {filename} ({count} notificacions)",clearedHistory:"Historial de processament netejat",errorCreatingNotification:"Error creant notificaci\xF3: {title}",defaultTitle:"Recordatori",desktopConfigRequired:"\u274C Configura el teu email i API Key a Settings per usar Notelert a desktop",locationNotSupportedDesktop:"\u274C Les notificacions d'ubicaci\xF3 nom\xE9s estan disponibles a m\xF2bil",emailScheduled:"\u2705 Email programat correctament",tokenLinked:"\u2705 Token vinculat correctament des de l'app m\xF2bil",tokenLinkError:"\u274C Error al vincular token",tokenInvalidFormat:"\u274C Format de token inv\xE0lid",tokenInvalid403:"\u274C Token inv\xE0lid o expirat. Genera un nou token a l'app (Settings > Token del Plugin) i torna a vincular-lo.",linkError400:"\u274C Error de vinculaci\xF3. Si us plau, torna a realitzar el vincle des de l'app i reinicia el plugin.",pushNotificationScheduled:"\u2705 Notificaci\xF3 programada correctament",pushNotificationScheduledLocation:"\u2705 Notificaci\xF3 d'ubicaci\xF3 programada correctament",tokenRequiredNotice:"\u{1F511} Token del plugin requerit. Configura el teu token a Settings.",iosNotSupported:`\u26A0\uFE0F iOS detectat

Notelert actualment nom\xE9s est\xE0 disponible per a Android.
L'app d'iOS est\xE0 en desenvolupament. Si us plau, utilitza un dispositiu Android per crear notificacions.`},modal:{title:"Crear notificaci\xF3 a Notelert?",titleLabel:"T\xEDtol:",dateLabel:"Data:",timeLabel:"Hora:",messageLabel:"Missatge:",confirmButton:"S\xED, crear notificaci\xF3",cancelButton:"Cancel\xB7lar"},datePicker:{title:"Seleccionar data i hora",dateLabel:"Data:",timeLabel:"Hora:",quickActions:"Accions r\xE0pides:",today:"Avui",tomorrow:"Dem\xE0",in1Hour:"En 1 hora",in2Hours:"En 2 hores",confirmButton:"Confirmar notificaci\xF3",cancelButton:"Cancel\xB7lar",selectDateTime:"Si us plau, selecciona una data i hora",notificationType:"Tipus de notificaci\xF3:",timeNotification:"Temps",locationNotification:"Ubicaci\xF3",noSavedLocations:"No hi ha ubicacions guardades. Ves a Settings per afegir ubicacions.",noSavedLocationsTitle:"No hi ha ubicacions guardades",noSavedLocationsDesc:`Per crear ubicacions:
1. Obre l'app Notelert al teu m\xF2bil
2. Ves a Settings > Les Meves Ubicacions
3. Afegeix ubicacions des del mapa
4. Torna aqu\xED i recarrega la llista`,reloadLocations:"\u{1F504} Recarregar ubicacions",loadingLocations:"Carregant ubicacions...",premiumRequiredTitle:"Pla Premium Requerit",premiumRequiredDesc:`Les notificacions d'ubicaci\xF3 nom\xE9s estan disponibles al pla Premium.

Actualitza a Premium per usar aquesta funci\xF3.`,openAppToUpgrade:"\u{1F4F1} Obrir app per actualitzar",installApp:"\u{1F4E5} Instal\xB7lar app des de Play Store",locationsErrorDesc:`Verifica que:
1. El token sigui correcte
2. Tinguis ubicacions guardades a l'app
3. Usa el bot\xF3 'Veure logs' per m\xE9s detalls`,tokenRequiredTitle:"Token del plugin requerit",tokenRequiredDesc:`Les notificacions d'ubicaci\xF3 requereixen un usuari Premium amb token v\xE0lid.

Per obtenir el teu token:
1. Obre l'app Notelert al teu m\xF2bil
2. Ves a Settings > Token del Plugin
3. Copia el token i enganxa'l a Settings > Notelert > Plugin Token`,openSettings:"\u2699\uFE0F Obrir Settings",selectSavedLocation:"Seleccionar Ubicaci\xF3 Guardada",hours:"Hores",minutes:"Minuts",selectLocationTitle:"Selecciona una ubicaci\xF3:"},locationPicker:{title:"Seleccionar Ubicaci\xF3",searchPlaceholder:"Buscar adre\xE7a o lloc...",radius:"Radi (metres):",favorites:"Ubicacions Favorites",cancelButton:"Cancel\xB7lar",confirmButton:"Confirmar",noFavorites:"No hi ha ubicacions guardades",selectButton:"Seleccionar",deleteButton:"Eliminar",saveFavorite:"\u2B50 Guardar",saved:"\u2713 Guardat",searching:"Buscant...",noResults:"No s'han trobat resultats",error:"Error en buscar ubicacions",connectionError:"Error de connexi\xF3. Verifica la teva connexi\xF3 a internet.",rateLimit:"Massa sol\xB7licituds. Espera un moment abans de buscar de nou.",apiKeyError:"Error: API key no configurada o inv\xE0lida. Verifica la configuraci\xF3.",selectLocation:"Selecciona una ubicaci\xF3 dels resultats o de les teves favorites",locationSelected:"Ubicaci\xF3 seleccionada",loadingMap:"Carregant mapa...",debugMap:"\u{1F50D} Debug Mapa",mapError:"\u26A0\uFE0F Error",mapErrorTitle:"Error en carregar el mapa",googleMapsError:"Google Maps no s'ha carregat correctament",nameLocationTitle:"Nomenar ubicaci\xF3",nameLocationPlaceholder:"Introdueix un nom per aquesta ubicaci\xF3",nameLocationConfirm:"Guardar",nameLocationCancel:"Cancel\xB7lar"},recurrence:{repeat:"\u{1F504} Repetir",repeatLabel:"Repetir",every:"Cada",day:"Dia(es)",week:"Setmana(es)",month:"Mes(os)",year:"Any(s)",ends:"Acaba:",never:"Mai",after:"Despr\xE9s de",times:"vegades",onDate:"En data",premiumHint:"\u2B50 Actualitza a Premium per usar notificacions recurrents",premiumRequired:"Les notificacions recurrents s\xF3n una funci\xF3 Premium",premiumRequiredDesc:"Actualitza a Premium per crear recordatoris que es repeteixen autom\xE0ticament.",openApp:"\u{1F4F1} Obrir app per actualitzar"}},fr:{settings:{title:"Param\xE8tres Notelert",autoProcess:"Traitement automatique",autoProcessDesc:"Activer le traitement automatique des motifs",processOnSave:"Traiter \xE0 la sauvegarde",processOnSaveDesc:"Traiter automatiquement lors de la sauvegarde d'une note",processOnOpen:"Traiter \xE0 l'ouverture",processOnOpenDesc:"Traiter automatiquement lors de l'ouverture d'une note",debugMode:"Mode debug",debugModeDesc:"Afficher les messages de debug dans la console",language:"Langue",languageDesc:"S\xE9lectionner la langue pour la d\xE9tection de motifs",excludedFolders:"Dossiers exclus",excludedFoldersDesc:"Dossiers qui ne seront pas trait\xE9s (s\xE9par\xE9s par des virgules)",customPatterns:"Mots-cl\xE9s personnalis\xE9s",customPatternsDesc:"Mots qui d\xE9clenchent le traitement (s\xE9par\xE9s par des virgules)",supportedPatterns:"Motifs Support\xE9s",keywords:"Mots-cl\xE9s",dates:"Dates:",times:"Heures:",examples:"Exemples:",basicSettings:"Param\xE8tres de base",appRequired:{title:"\u{1F4F1} Application Android Requise",message:"Ce plugin n\xE9cessite l'installation de l'application Android pour fonctionner. Une fois install\xE9e, g\xE9n\xE9rez un jeton depuis Param\xE8tres > Jeton du Plugin dans l'application et configurez-le ici.",downloadLink:"T\xE9l\xE9charger l'application Android"},pluginToken:{title:"\u{1F511} Jeton du Plugin",descDesktop:"Jeton d'authentification pour utiliser le g\xE9ocodage et les e-mails premium. Obtenez votre jeton depuis l'application mobile dans Param\xE8tres > Jeton du Plugin.",descMobile:"Jeton d'authentification pour utiliser le g\xE9ocodage premium. Obtenez votre jeton depuis l'application mobile dans Param\xE8tres > Jeton du Plugin.",placeholder:"Collez votre jeton ici...",showHide:"Afficher/Masquer"},desktopSettings:{title:"\u{1F4BB} Param\xE8tres Bureau",userEmailTitle:"E-mail utilisateur (Optionnel)",userEmailDesc:"E-mail o\xF9 vous recevrez les notifications. Plus n\xE9cessaire si vous utilisez le jeton du plugin.",userEmailPlaceholder:"utilisateur@email.com"},scheduledEmails:{title:"\u{1F4E7} E-mails programm\xE9s",desc:"G\xE9rez vos e-mails programm\xE9s. Vous pouvez les annuler avant qu'ils ne soient envoy\xE9s.",empty:"Aucun e-mail programm\xE9. Les e-mails que vous programmez appara\xEEtront ici.",cancelButton:"\u{1F5D1}\uFE0F Annuler",canceling:"Annulation...",cancelSuccess:"\u2705 E-mail annul\xE9 avec succ\xE8s",cancelError:"\u274C Erreur lors de l'annulation de l'e-mail",past:"(Pass\xE9)"},mobileSettings:{title:"\u{1F4F1} Param\xE8tres Mobile"},savedLocations:{title:"\u{1F4CD} Lieux enregistr\xE9s",desc:"G\xE9rez vos lieux favoris. Ils appara\xEEtront lorsque vous s\xE9lectionnerez 'Lieu' lors de la cr\xE9ation d'une notification.",addTitle:"Ajouter un nouveau lieu",addDesc:"Ouvrir le s\xE9lecteur de lieu avec carte pour ajouter un nouveau lieu",addButton:"\u2795 Ajouter un lieu",empty:"Aucun lieu enregistr\xE9. Cliquez sur 'Ajouter un lieu' pour commencer.",editButton:"\u270F\uFE0F Modifier",deleteButton:"\u{1F5D1}\uFE0F"}},commands:{processCurrentNote:"Traiter la note actuelle pour Notelert",processAllNotes:"Traiter toutes les notes pour Notelert",clearProcessedHistory:"Effacer l'historique de traitement"},notices:{noActiveNote:"Aucune note active \xE0 traiter",processedNotes:"Trait\xE9es {count} notes pour Notelert",processedNote:"Trait\xE9: {filename} ({count} notifications)",clearedHistory:"Historique de traitement effac\xE9",errorCreatingNotification:"Erreur lors de la cr\xE9ation de la notification: {title}",defaultTitle:"Rappel",desktopConfigRequired:"\u274C Configurez votre e-mail et votre cl\xE9 API dans les param\xE8tres pour utiliser Notelert sur le bureau",locationNotSupportedDesktop:"\u274C Les notifications de localisation sont uniquement disponibles sur mobile",emailScheduled:"\u2705 E-mail programm\xE9 avec succ\xE8s",tokenLinked:"\u2705 Token li\xE9 avec succ\xE8s depuis l'application mobile",tokenLinkError:"\u274C Erreur lors de la liaison du token",tokenInvalidFormat:"\u274C Format de jeton invalide",tokenInvalid403:"\u274C Jeton invalide ou expir\xE9. G\xE9nerer un nouveau jeton dans l'application (Param\xE8tres > Jeton du Plugin) et liez-le \xE0 nouveau.",linkError400:"\u274C Erreur de liaison. Veuillez effectuer \xE0 nouveau la liaison depuis l'application et red\xE9marrer le plugin.",pushNotificationScheduled:"\u2705 Notification programm\xE9e avec succ\xE8s",pushNotificationScheduledLocation:"\u2705 Notification de lieu programm\xE9e avec succ\xE8s",tokenRequiredNotice:"\u{1F511} Jeton du plugin requis. Configurez votre jeton dans les Param\xE8tres.",iosNotSupported:`\u26A0\uFE0F iOS d\xE9tect\xE9

Notelert est actuellement uniquement disponible pour Android.
L'application iOS est en cours de d\xE9veloppement. Veuillez utiliser un appareil Android pour cr\xE9er des notifications.`},datePicker:{title:"S\xE9lectionner la date et l'heure",dateLabel:"Date:",timeLabel:"Heure:",quickActions:"Actions rapides:",today:"Aujourd'hui",tomorrow:"Demain",in1Hour:"Dans 1 heure",in2Hours:"Dans 2 heures",confirmButton:"Confirmer la notification",cancelButton:"Annuler",selectDateTime:"Veuillez s\xE9lectionner une date et une heure",notificationType:"Type de notification:",timeNotification:"Temps",locationNotification:"Lieu",noSavedLocations:"Aucun lieu enregistr\xE9. Allez dans Param\xE8tres pour ajouter des lieux.",noSavedLocationsTitle:"Aucun lieu enregistr\xE9",noSavedLocationsDesc:`Pour cr\xE9er des lieux:
1. Ouvrez l'app Notelert sur votre mobile
2. Allez dans Param\xE8tres > Mes Lieux
3. Ajoutez des lieux depuis la carte
4. Revenez ici et rechargez la liste`,reloadLocations:"\u{1F504} Recharger les lieux",loadingLocations:"Chargement des lieux...",premiumRequiredTitle:"Plan Premium Requis",premiumRequiredDesc:`Les notifications de localisation ne sont disponibles que dans le plan Premium.

Passez \xE0 Premium pour utiliser cette fonctionnalit\xE9.`,openAppToUpgrade:"\u{1F4F1} Ouvrir l'app pour mettre \xE0 niveau",installApp:"\u{1F4E5} Installer l'app depuis Play Store",locationsErrorDesc:`V\xE9rifiez que:
1. Le token est correct
2. Vous avez des lieux enregistr\xE9s dans l'app
3. Utilisez le bouton 'Voir les logs' pour plus de d\xE9tails`,tokenRequiredTitle:"Token du plugin requis",tokenRequiredDesc:`Les notifications de localisation n\xE9cessitent un utilisateur Premium avec un token valide.

Pour obtenir votre token:
1. Ouvrez l'app Notelert sur votre mobile
2. Allez dans Param\xE8tres > Token du Plugin
3. Copiez le token et collez-le dans Param\xE8tres > Notelert > Token du Plugin`,openSettings:"\u2699\uFE0F Ouvrir les Param\xE8tres",selectSavedLocation:"S\xE9lectionner un lieu enregistr\xE9",hours:"Heures",minutes:"Minutes",selectLocationTitle:"S\xE9lectionnez un lieu:"},locationPicker:{title:"S\xE9lectionner un lieu",searchPlaceholder:"Rechercher une adresse ou un lieu...",radius:"Rayon (m\xE8tres):",favorites:"Lieux favoris",cancelButton:"Annuler",confirmButton:"Confirmer",noFavorites:"Aucun lieu enregistr\xE9",selectButton:"S\xE9lectionner",deleteButton:"Supprimer",saveFavorite:"\u2B50 Enregistrer",saved:"\u2713 Enregistr\xE9",searching:"Recherche...",noResults:"Aucun r\xE9sultat trouv\xE9",error:"Erreur lors de la recherche de lieux",connectionError:"Erreur de connexion. V\xE9rifiez votre connexion internet.",rateLimit:"Trop de demandes. Attendez un moment avant de rechercher \xE0 nouveau.",apiKeyError:"Erreur: Cl\xE9 API non configur\xE9e ou invalide. V\xE9rifiez vos param\xE8tres.",selectLocation:"S\xE9lectionnez un lieu parmi les r\xE9sultats ou vos favoris",locationSelected:"Lieu s\xE9lectionn\xE9",loadingMap:"Chargement de la carte...",debugMap:"\u{1F50D} Debug Carte",mapError:"\u26A0\uFE0F Erreur",mapErrorTitle:"Erreur lors du chargement de la carte",googleMapsError:"Google Maps ne s'est pas charg\xE9 correctement",nameLocationTitle:"Nommer le lieu",nameLocationPlaceholder:"Entrez un nom pour ce lieu",nameLocationConfirm:"Enregistrer",nameLocationCancel:"Annuler"},recurrence:{repeat:"\u{1F504} R\xE9p\xE9ter",repeatLabel:"R\xE9p\xE9ter",every:"Chaque",day:"Jour(s)",week:"Semaine(s)",month:"Mois",year:"Ann\xE9e(s)",ends:"Se termine:",never:"Jamais",after:"Apr\xE8s",times:"fois",onDate:"Le",premiumHint:"\u2B50 Passez \xE0 Premium pour utiliser les notifications r\xE9currentes",premiumRequired:"Les notifications r\xE9currentes sont une fonctionnalit\xE9 Premium",premiumRequiredDesc:"Passez \xE0 Premium pour cr\xE9er des rappels qui se r\xE9p\xE8tent automatiquement.",openApp:"\u{1F4F1} Ouvrir l'app pour mettre \xE0 niveau"}},de:{settings:{title:"Notelert Einstellungen",autoProcess:"Automatische Verarbeitung",autoProcessDesc:"Automatische Musterverarbeitung aktivieren",processOnSave:"Beim Speichern verarbeiten",processOnSaveDesc:"Automatisch verarbeiten beim Speichern einer Notiz",processOnOpen:"Beim \xD6ffnen verarbeiten",processOnOpenDesc:"Automatisch verarbeiten beim \xD6ffnen einer Notiz",debugMode:"Debug-Modus",debugModeDesc:"Debug-Nachrichten in der Konsole anzeigen",language:"Sprache",languageDesc:"Sprache f\xFCr Mustererkennung ausw\xE4hlen",excludedFolders:"Ausgeschlossene Ordner",excludedFoldersDesc:"Ordner, die nicht verarbeitet werden (durch Kommas getrennt)",customPatterns:"Benutzerdefinierte Schl\xFCsselw\xF6rter",customPatternsDesc:"W\xF6rter, die die Verarbeitung ausl\xF6sen (durch Kommas getrennt)",supportedPatterns:"Unterst\xFCtzte Muster",keywords:"Schl\xFCsselw\xF6rter",dates:"Daten:",times:"Zeiten:",examples:"Beispiele:",basicSettings:"Grundeinstellungen",appRequired:{title:"\u{1F4F1} Android-App Erforderlich",message:"Dieses Plugin erfordert die Installation der Android-App, um zu funktionieren. Sobald sie installiert ist, generieren Sie ein Token in der App unter Einstellungen > Plugin-Token und konfigurieren Sie es hier.",downloadLink:"Android-App herunterladen"},pluginToken:{title:"\u{1F511} Plugin-Token",descDesktop:"Authentifizierungstoken f\xFCr Premium-Geocodierung und E-Mails. Holen Sie sich Ihr Token aus der mobilen App unter Einstellungen > Plugin-Token.",descMobile:"Authentifizierungstoken f\xFCr Premium-Geocodierung. Holen Sie sich Ihr Token aus der mobilen App unter Einstellungen > Plugin-Token.",placeholder:"F\xFCgen Sie Ihr Token hier ein...",showHide:"Anzeigen/Verbergen"},desktopSettings:{title:"\u{1F4BB} Desktop-Einstellungen",userEmailTitle:"Benutzer-E-Mail (Optional)",userEmailDesc:"E-Mail, an die Sie Benachrichtigungen erhalten. Nicht mehr erforderlich, wenn Sie das Plugin-Token verwenden.",userEmailPlaceholder:"benutzer@email.com"},scheduledEmails:{title:"\u{1F4E7} Geplante E-Mails",desc:"Verwalten Sie Ihre geplanten E-Mails. Sie k\xF6nnen sie stornieren, bevor sie gesendet werden.",empty:"Keine geplanten E-Mails. E-Mails, die Sie planen, werden hier angezeigt.",cancelButton:"\u{1F5D1}\uFE0F Abbrechen",canceling:"Abbrechen...",cancelSuccess:"\u2705 E-Mail erfolgreich abgebrochen",cancelError:"\u274C Fehler beim Abbrechen der E-Mail",past:"(Vergangen)"},mobileSettings:{title:"\u{1F4F1} Mobile Einstellungen"},savedLocations:{title:"\u{1F4CD} Gespeicherte Orte",desc:"Verwalten Sie Ihre Lieblingsorte. Diese erscheinen, wenn Sie 'Ort' ausw\xE4hlen, wenn Sie eine Benachrichtigung erstellen.",addTitle:"Neuen Ort hinzuf\xFCgen",addDesc:"\xD6ffnen Sie die Standortauswahl mit Karte, um einen neuen Ort hinzuzuf\xFCgen",addButton:"\u2795 Ort hinzuf\xFCgen",empty:"Keine gespeicherten Orte. Klicken Sie auf 'Ort hinzuf\xFCgen', um zu beginnen.",editButton:"\u270F\uFE0F Bearbeiten",deleteButton:"\u{1F5D1}\uFE0F"}},commands:{processCurrentNote:"Aktuelle Notiz f\xFCr Notelert verarbeiten",processAllNotes:"Alle Notizen f\xFCr Notelert verarbeiten",clearProcessedHistory:"Verarbeitungshistorie l\xF6schen"},notices:{noActiveNote:"Keine aktive Notiz zum Verarbeiten",processedNotes:"Verarbeitet {count} Notizen f\xFCr Notelert",processedNote:"Verarbeitet: {filename} ({count} Benachrichtigungen)",clearedHistory:"Verarbeitungshistorie gel\xF6scht",errorCreatingNotification:"Fehler beim Erstellen der Benachrichtigung: {title}",defaultTitle:"Erinnerung",desktopConfigRequired:"\u274C Konfigurieren Sie Ihre E-Mail und API-Schl\xFCssel in den Einstellungen, um Notelert auf dem Desktop zu verwenden",locationNotSupportedDesktop:"\u274C Standortbenachrichtigungen sind nur auf Mobilger\xE4ten verf\xFCgbar",emailScheduled:"\u2705 E-Mail erfolgreich geplant",tokenLinked:"\u2705 Token erfolgreich von der mobilen App verkn\xFCpft",tokenLinkError:"\u274C Fehler beim Verkn\xFCpfen des Tokens",tokenInvalidFormat:"\u274C Ung\xFCltiges Token-Format",iosNotSupported:`\u26A0\uFE0F iOS erkannt

Notelert ist derzeit nur f\xFCr Android verf\xFCgbar.
Die iOS-App befindet sich in der Entwicklung. Bitte verwenden Sie ein Android-Ger\xE4t, um Benachrichtigungen zu erstellen.`}},pt:{settings:{title:"Configura\xE7\xF5es Notelert",autoProcess:"Processamento autom\xE1tico",autoProcessDesc:"Ativar processamento autom\xE1tico de padr\xF5es",processOnSave:"Processar ao salvar",processOnSaveDesc:"Processar automaticamente ao salvar uma nota",processOnOpen:"Processar ao abrir",processOnOpenDesc:"Processar automaticamente ao abrir uma nota",debugMode:"Modo debug",debugModeDesc:"Mostrar mensagens de debug no console",language:"Idioma",languageDesc:"Selecionar idioma para detec\xE7\xE3o de padr\xF5es",excludedFolders:"Pastas exclu\xEDdas",excludedFoldersDesc:"Pastas que n\xE3o ser\xE3o processadas (separadas por v\xEDrgulas)",customPatterns:"Palavras-chave personalizadas",customPatternsDesc:"Palavras que ativam o processamento (separadas por v\xEDrgulas)",supportedPatterns:"Padr\xF5es Suportados",keywords:"Palavras-chave",dates:"Datas:",times:"Hor\xE1rios:",examples:"Exemplos:",basicSettings:"Configura\xE7\xF5es B\xE1sicas",appRequired:{title:"\u{1F4F1} App Android Necess\xE1ria",message:"Este plugin requer a instala\xE7\xE3o do aplicativo Android para funcionar. Uma vez instalado, gere um token em Configura\xE7\xF5es > Token do Plugin no aplicativo e configure-o aqui.",downloadLink:"Baixar aplicativo Android"},pluginToken:{title:"\u{1F511} Token do Plugin",descDesktop:"Token de autentica\xE7\xE3o para usar geocodifica\xE7\xE3o e e-mails premium. Obtenha seu token no aplicativo m\xF3vel em Configura\xE7\xF5es > Token do Plugin.",descMobile:"Token de autentica\xE7\xE3o para usar geocodifica\xE7\xE3o premium. Obtenha seu token no aplicativo m\xF3vel em Configura\xE7\xF5es > Token do Plugin.",placeholder:"Cole seu token aqui...",showHide:"Mostrar/Ocultar"},desktopSettings:{title:"\u{1F4BB} Configura\xE7\xF5es de Desktop",userEmailTitle:"E-mail do Usu\xE1rio (Opcional)",userEmailDesc:"E-mail onde voc\xEA receber\xE1 as notifica\xE7\xF5es. N\xE3o \xE9 mais necess\xE1rio se usar o token do plugin.",userEmailPlaceholder:"usuario@email.com"},scheduledEmails:{title:"\u{1F4E7} E-mails Agendados",desc:"Gerencie seus e-mails agendados. Voc\xEA pode cancel\xE1-los antes que sejam enviados.",empty:"Nenhum e-mail agendado. Os e-mails que voc\xEA agendar aparecer\xE3o aqui.",cancelButton:"\u{1F5D1}\uFE0F Cancelar",canceling:"Cancelando...",cancelSuccess:"\u2705 E-mail cancelado com sucesso",cancelError:"\u274C Erro ao cancelar e-mail",past:"(Passado)"},mobileSettings:{title:"\u{1F4F1} Configura\xE7\xF5es M\xF3veis"},savedLocations:{title:"\u{1F4CD} Locais Salvos",desc:"Gerencie seus locais favoritos. Eles aparecer\xE3o quando voc\xEA selecionar 'Localiza\xE7\xE3o' ao criar uma notifica\xE7\xE3o.",addTitle:"Adicionar Novo Local",addDesc:"Abrir seletor de localiza\xE7\xE3o com mapa para adicionar um novo local",addButton:"\u2795 Adicionar Local",empty:"Nenhum local salvo. Clique em 'Adicionar Local' para come\xE7ar.",editButton:"\u270F\uFE0F Editar",deleteButton:"\u{1F5D1}\uFE0F"}},commands:{processCurrentNote:"Processar nota atual para Notelert",processAllNotes:"Processar todas as notas para Notelert",clearProcessedHistory:"Limpar hist\xF3rico de processamento"},notices:{noActiveNote:"Nenhuma nota ativa para processar",processedNotes:"Processadas {count} notas para Notelert",processedNote:"Processada: {filename} ({count} notifica\xE7\xF5es)",clearedHistory:"Hist\xF3rico de processamento limpo",errorCreatingNotification:"Erro ao criar notifica\xE7\xE3o: {title}",defaultTitle:"Lembrete",desktopConfigRequired:"\u274C Configure seu e-mail e chave de API nas configura\xE7\xF5es para usar Notelert no desktop",locationNotSupportedDesktop:"\u274C As notifica\xE7\xF5es de localiza\xE7\xE3o est\xE3o dispon\xEDveis apenas no celular",emailScheduled:"\u2705 E-mail agendado com sucesso",tokenLinked:"\u2705 Token vinculado com sucesso do aplicativo m\xF3vel",tokenLinkError:"\u274C Erro ao vincular token",tokenInvalidFormat:"\u274C Formato de token inv\xE1lido",iosNotSupported:`\u26A0\uFE0F iOS detectado

Notelert est\xE1 atualmente dispon\xEDvel apenas para Android.
O aplicativo iOS est\xE1 em desenvolvimento. Por favor, use um dispositivo Android para criar notifica\xE7\xF5es.`}}};var N=D(),ce=class extends q.PluginSettingTab{constructor(e,i){super(e,i);this.plugin=i}display(){let{containerEl:e}=this;e.empty(),new q.Setting(e).setName((0,N.getTranslation)(this.plugin.settings.language,"settings.title")).setHeading();let i=this.plugin.settings.pluginToken&&this.plugin.settings.pluginToken.trim().length>0,o="notelert-app-required-banner-dismissed";if(!i){let n=e.createEl("div",{attr:{style:`
            padding: 15px;
            margin-bottom: 20px;
            background: var(--background-secondary);
            border-radius: 8px;
            border-left: 4px solid var(--text-warning);
            position: relative;
          `}}),s=n.createEl("button",{attr:{style:`
            position: absolute;
            top: 10px;
            right: 10px;
            background: transparent;
            border: none;
            color: var(--text-muted);
            cursor: pointer;
            font-size: 18px;
            padding: 4px 8px;
            line-height: 1;
          `},text:"\xD7"});s.onclick=()=>{this.app.saveLocalStorage(o,"true"),this.display()},new q.Setting(n).setName((0,N.getTranslation)(this.plugin.settings.language,"settings.appRequired.title")||"\u{1F4F1} App de Android Requerida").setHeading();let u=(0,N.getTranslation)(this.plugin.settings.language,"settings.appRequired.message")||"Este plugin requiere instalar la app de Android para funcionar. Una vez instalada, genera un token desde Settings > Plugin Token en la app y config\xFAralo aqu\xED.";n.createEl("p",{text:u,attr:{style:"margin: 0 0 10px 0; color: var(--text-muted); font-size: 13px; line-height: 1.6;"}}),n.createEl("a",{text:(0,N.getTranslation)(this.plugin.settings.language,"settings.appRequired.downloadLink")||"Descargar app de Android",attr:{href:"https://play.google.com/store/apps/details?id=com.notelert",target:"_blank",style:`
            display: inline-block;
            margin-top: 5px;
            color: var(--text-accent);
            text-decoration: none;
            font-weight: 500;
          `}})}new q.Setting(e).setName((0,N.getTranslation)(this.plugin.settings.language,"settings.basicSettings")).setHeading(),new q.Setting(e).setName((0,N.getTranslation)(this.plugin.settings.language,"settings.language")).setDesc((0,N.getTranslation)(this.plugin.settings.language,"settings.languageDesc")).addDropdown(n=>{N.SUPPORTED_LANGUAGES.forEach(s=>{n.addOption(s.code,`${s.nativeName} (${s.name})`)}),n.setValue(this.plugin.settings.language),n.onChange(s=>{(async()=>{this.plugin.settings.language=s,await this.plugin.saveSettings(),this.display()})()})}),new q.Setting(e).setName((0,N.getTranslation)(this.plugin.settings.language,"settings.debugMode")).setDesc((0,N.getTranslation)(this.plugin.settings.language,"settings.debugModeDesc")).addToggle(n=>n.setValue(this.plugin.settings.debugMode).onChange(s=>{(async()=>{this.plugin.settings.debugMode=s,await this.plugin.saveSettings()})()})),new q.Setting(e).setName((0,N.getTranslation)(this.plugin.settings.language,"settings.pluginToken.title")).setHeading();let a=(0,N.getTranslation)(this.plugin.settings.language,"settings.pluginToken.descDesktop")||"Token de autenticaci\xF3n para usar geocodificaci\xF3n y emails premium. Obt\xE9n tu token desde la app m\xF3vil en Settings > Plugin Token.";new q.Setting(e).setName((0,N.getTranslation)(this.plugin.settings.language,"settings.pluginToken.title")).setDesc(a).addText(n=>{n.setPlaceholder((0,N.getTranslation)(this.plugin.settings.language,"settings.pluginToken.placeholder")).setValue(this.plugin.settings.pluginToken||"").inputEl.type="password",n.onChange(s=>{(async()=>{this.plugin.settings.pluginToken=s.trim(),await this.plugin.saveSettings()})()})}).addButton(n=>{n.setButtonText((0,N.getTranslation)(this.plugin.settings.language,"settings.pluginToken.showHide")).onClick(()=>{let s=e.querySelector('input[type="password"]');s&&(s.type=s.type==="password"?"text":"password")})}),new q.Setting(e).setName((0,N.getTranslation)(this.plugin.settings.language,"settings.generalSettings.title")||"Configuraci\xF3n General").setHeading(),new q.Setting(e).setName("Combinaci\xF3n de caracteres para abrir el modal").setDesc("Escribe la combinaci\xF3n de caracteres que quieres usar para abrir el modal de notificaciones (por defecto: :@)").addText(n=>{n.setPlaceholder(":@").setValue(this.plugin.settings.datePickerTrigger||":@").onChange(s=>{(async()=>{this.plugin.settings.datePickerTrigger=s.trim()||":@",await this.plugin.saveSettings()})()})})}};var B=U(require("obsidian")),z=D();function at(t){return t.includes("-")?t:t.replace(/([a-z0-9]|(?=[A-Z]))([A-Z])/g,"$1-$2").toLowerCase()}function r(t,e){for(let[i,o]of Object.entries(e)){if(o==null)continue;let a;if(typeof o=="string")a=o;else if(typeof o=="number")a=String(o);else{if(typeof o=="boolean")continue;if(typeof o=="object"&&o!==null)try{let s=JSON.stringify(o);if(s==="{}"||s.startsWith("{")||s.startsWith("["))continue;a=s}catch{continue}else if(typeof o=="symbol")a=String(o);else if(typeof o=="bigint")a=String(o);else continue}let n=at(i);t.style.setProperty(n,a)}}function E(t){if(!t)return!1;if(typeof HTMLElement!="undefined")return t instanceof HTMLElement;let e=t;return t.nodeType===1&&typeof e.style!="undefined"&&typeof e.offsetWidth!="undefined"}function Y(){return new Date().toISOString().split("T")[0]}function xe(){let t=new Date;return t.setDate(t.getDate()+1),t.toISOString().split("T")[0]}function le(t){let e=new Date;return e.setHours(e.getHours()+t),e.toTimeString().slice(0,5)}function Ee(){let t=new Date;t.setHours(t.getHours()+1);let e=t.getHours(),i=Math.ceil(t.getMinutes()/5)*5;return{hours:e,minutes:i}}var Pe=U(require("obsidian"));function ue(){let t=Pe.Platform;return typeof t.isIOS=="boolean"?t.isIOS:!1}function R(t){if(t instanceof Error)return t.message;if(typeof t=="string")return t;if(t&&typeof t=="object"&&"message"in t){let e=t.message;if(typeof e=="string")return e;if(typeof e=="number"||typeof e=="boolean")return String(e);if(typeof e=="object"&&e!==null)try{return JSON.stringify(e)}catch{return"[Error al convertir objeto a string]"}}return"Error desconocido"}async function ye(t,e,i,o,a,n,s,u,l){try{let c=t.app.workspace.getActiveFile(),d=c?c.basename:"Nota",m=e.getLine(i.line),v=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),k=m.replace(new RegExp(`${v}[^,\\s]+,\\s*[^\\s]+`,"g"),"").trim(),T={text:s.trim(),title:d,message:k,date:a,time:n,fullMatch:`${o}${a}, ${n}`,startIndex:0,endIndex:s.length,filePath:c?.path,lineNumber:i.line+1,type:"time",recurrence:l?.enabled?l:void 0};return await t.createNotificationAndMarkProcessed(T),!0}catch(c){let d=R(c);t.log(`Error creando notificaci\xF3n desde date picker: ${d}`);let{getTranslation:m}=await Promise.resolve().then(()=>D()),{Notice:v}=await Promise.resolve().then(()=>U(require("obsidian")));return new v(m(u,"notices.errorCreatingNotification",{title:"Recordatorio"})),!1}}async function Se(t,e,i,o,a,n){try{let s=`:#${a.name}`,u=e.getLine(i.line),l=u.substring(0,i.ch-o.length),c=u.substring(i.ch),d=l+s+c;e.setLine(i.line,d);let m={line:i.line,ch:l.length+s.length};e.setCursor(m);let v=t.app.workspace.getActiveFile(),k=v?v.basename:"Nota",f=e.getLine(i.line).replace(/:#[^\s]+/g,"").trim(),I={text:d.trim(),title:k,message:f,date:new Date().toISOString().split("T")[0],time:"00:00",fullMatch:s,startIndex:0,endIndex:d.length,filePath:v?.path,lineNumber:i.line+1,location:a.name,latitude:a.latitude,longitude:a.longitude,radius:a.radius,type:"location"};return await t.createNotificationAndMarkProcessed(I),t.log(`Notificaci\xF3n de ubicaci\xF3n creada: ${I.title} en ${a.name}`),!0}catch(s){let u=R(s);t.log(`Error creando notificaci\xF3n de ubicaci\xF3n: ${u}`);let{getTranslation:l}=await Promise.resolve().then(()=>D()),{Notice:c}=await Promise.resolve().then(()=>U(require("obsidian")));return new c(l(n,"notices.errorCreatingNotification",{title:"Recordatorio de ubicaci\xF3n"})),!1}}var de=D();var Te=new WeakMap;function Le(t,e){t.textContent&&Te.set(t,t.textContent),t.disabled=!0,r(t,{opacity:"0.6",cursor:"not-allowed"}),t.textContent=(0,de.getTranslation)(e,"datePicker.confirmButton")||"Confirmando..."}function W(t,e){let i=Te.get(t)||(0,de.getTranslation)(e,"datePicker.confirmButton")||"Confirmar";t.textContent=i,t.disabled=!1,r(t,{opacity:"1",cursor:"pointer"})}var Ne=D();function Ce(t,e,i){let o=t.createEl("div",{cls:"notelert-date-container"});r(o,{marginBottom:"15px",display:"block",visibility:"visible",opacity:"1"});let a=o.createEl("label",{text:(0,Ne.getTranslation)(e,"datePicker.dateLabel")});r(a,{display:"block",marginBottom:"5px",fontWeight:"500"});let n=o.createEl("input",{type:"date",cls:"notelert-date-input"});return r(n,{width:"100%",padding:"10px",border:"1px solid var(--background-modifier-border)",borderRadius:"6px",boxSizing:"border-box",fontSize:"14px"}),n.value=i,{dateInput:n,container:o}}var ne=D();function ee(t,e,i,o,a){t<0&&(t=0),t>23&&(t=23),e<0&&(e=0),e>59&&(e=59),i.textContent=String(t).padStart(2,"0"),o.textContent=String(e).padStart(2,"0");let n=`${String(t).padStart(2,"0")}:${String(e).padStart(2,"0")}`;a.value=n}function we(t,e,i){let o=t.createEl("div",{cls:"notelert-time-container"});r(o,{marginBottom:"20px",display:"block",visibility:"visible",opacity:"1"});let a=o.createEl("label",{text:(0,ne.getTranslation)(e,"datePicker.timeLabel")});r(a,{display:"block",marginBottom:"10px",fontWeight:"500"});let n=o.createEl("div");r(n,{display:"flex",alignItems:"center",justifyContent:"center",gap:i?"20px":"15px",padding:i?"20px":"15px",background:"var(--background-secondary)",borderRadius:"8px",border:"1px solid var(--background-modifier-border)"});let s=n.createEl("div");r(s,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"8px",flex:"0 0 auto"});let u=s.createEl("div",{text:(0,ne.getTranslation)(e,"datePicker.hours")});r(u,{fontSize:"11px",color:"var(--text-muted)",textTransform:"uppercase",fontWeight:"500",letterSpacing:"0.5px"});let l=s.createEl("div",{text:"12"}),c=i?"80px":"70px";r(l,{fontSize:i?"32px":"28px",fontWeight:"600",color:"var(--text-normal)",width:c,textAlign:"center",padding:i?"10px 0":"8px 0",background:"var(--background-primary)",borderRadius:"6px",border:"2px solid var(--interactive-accent)",boxSizing:"border-box",margin:"0 auto"}),l.id="hours-display";let d=s.createEl("div");r(d,{display:"flex",gap:"8px",alignItems:"center",justifyContent:"center",width:c,boxSizing:"border-box"});let m=i?"36px":"31px",v=i?"36px":"32px",k=(w,_,G)=>{let x=G.createEl("button",{text:w});return r(x,{width:m,height:v,minWidth:m,maxWidth:m,borderRadius:"6px",border:"1px solid var(--background-modifier-border)",background:"var(--background-primary)",fontSize:_?"20px":"18px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s",flex:"0 0 auto",padding:"0",margin:"0"}),x.addEventListener("mouseenter",()=>{r(x,{background:"var(--background-modifier-hover)",borderColor:"var(--interactive-accent)"})}),x.addEventListener("mouseleave",()=>{r(x,{background:"var(--background-primary)",borderColor:"var(--background-modifier-border)"})}),x},T=k("\u2212",i,d),f=k("+",i,d),I=n.createEl("div",{text:":"});r(I,{fontSize:i?"32px":"28px",fontWeight:"600",color:"var(--text-normal)",margin:`0 ${i?"10px":"5px"}`,display:"flex",alignItems:"center",justifyContent:"center",alignSelf:"center",flex:"0 0 auto"});let p=n.createEl("div");r(p,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"8px",flex:"0 0 auto"});let h=p.createEl("div",{text:(0,ne.getTranslation)(e,"datePicker.minutes")});r(h,{fontSize:"11px",color:"var(--text-muted)",textTransform:"uppercase",fontWeight:"500",letterSpacing:"0.5px"});let g=p.createEl("div",{text:"00"}),b=i?"80px":"70px";r(g,{fontSize:i?"32px":"28px",fontWeight:"600",color:"var(--text-normal)",width:b,textAlign:"center",padding:i?"10px 0":"8px 0",background:"var(--background-primary)",borderRadius:"6px",border:"2px solid var(--interactive-accent)",boxSizing:"border-box",margin:"0 auto"}),g.id="minutes-display";let P=p.createEl("div");r(P,{display:"flex",gap:"8px",alignItems:"center",justifyContent:"center",width:b,boxSizing:"border-box"});let C=k("\u2212",i,P),L=k("+",i,P),S=o.createEl("input",{type:"time",cls:"notelert-time-input"});r(S,{display:"none"}),S.id="hidden-time-input";let $=w=>{let _=parseInt(l.textContent||"12"),G=parseInt(g.textContent||"0"),x=_+w;x<0&&(x=23),x>23&&(x=0),ee(x,G,l,g,S)},F=w=>{let _=parseInt(l.textContent||"12"),x=parseInt(g.textContent||"0")+w,V=_;x<0?(x=59,V=V-1,V<0&&(V=23)):x>59&&(x=0,V=V+1,V>23&&(V=0)),ee(V,x,l,g,S)};if(T.addEventListener("click",()=>$(-1)),f.addEventListener("click",()=>$(1)),C.addEventListener("click",()=>F(-5)),L.addEventListener("click",()=>F(5)),i){let w=o.createEl("div");r(w,{display:"flex",gap:"8px",flexWrap:"wrap",marginTop:"15px",justifyContent:"center"}),[{label:"9:00",hours:9,minutes:0},{label:"12:00",hours:12,minutes:0},{label:"15:00",hours:15,minutes:0},{label:"18:00",hours:18,minutes:0},{label:"21:00",hours:21,minutes:0}].forEach(G=>{let x=w.createEl("button",{text:G.label});r(x,{padding:"6px 12px",fontSize:"12px",borderRadius:"4px",border:"1px solid var(--background-modifier-border)",background:"var(--background-primary)",cursor:"pointer",transition:"all 0.2s"}),x.addEventListener("click",()=>{ee(G.hours,G.minutes,l,g,S)}),x.addEventListener("mouseenter",()=>{r(x,{background:"var(--background-modifier-hover)",borderColor:"var(--interactive-accent)"})}),x.addEventListener("mouseleave",()=>{r(x,{background:"var(--background-primary)",borderColor:"var(--background-modifier-border)"})})})}let{hours:J,minutes:y}=Ee();return ee(J,y,l,g,S),{timeInput:S,hoursDisplay:l,minutesDisplay:g,container:o,updateTime:(w,_)=>ee(w,_,l,g,S)}}var X=D();function Ae(t,e,i){let o=t.createEl("div",{cls:"notelert-quick-actions"});r(o,{marginBottom:"20px",width:"100%",boxSizing:"border-box"}),o.id="quick-actions-container";let a=o.createEl("p",{text:(0,X.getTranslation)(e,"datePicker.quickActions")});r(a,{marginBottom:"10px",fontWeight:"500"});let n=o.createEl("div");return r(n,{display:"flex",gap:"8px",flexWrap:"wrap",width:"100%"}),[{label:(0,X.getTranslation)(e,"datePicker.today"),date:Y(),time:"09:00"},{label:(0,X.getTranslation)(e,"datePicker.tomorrow"),date:xe(),time:"09:00"},{label:(0,X.getTranslation)(e,"datePicker.in1Hour"),date:Y(),time:le(1)},{label:(0,X.getTranslation)(e,"datePicker.in2Hours"),date:Y(),time:le(2)}].forEach(u=>{let l=n.createEl("button",{text:u.label,cls:"mod-secondary"});r(l,{padding:"4px 8px",fontSize:"12px"}),l.addEventListener("click",()=>{i(u.date,u.time)})}),{container:o}}var re=D();function De(t,e,i,o,a){let n=t.createEl("div",{cls:"notelert-type-container"});r(n,{marginBottom:"20px",padding:i?"10px 15px":"15px",background:"var(--background-secondary)",borderRadius:"6px",width:"100%",boxSizing:"border-box"}),n.createEl("label",{text:(0,re.getTranslation)(e,"datePicker.notificationType")});let s=n.querySelector("label");s&&E(s)&&r(s,{display:"block",marginBottom:"8px",fontWeight:"500",fontSize:"14px"});let u=n.createEl("div");r(u,{display:"flex",gap:"10px",flexWrap:"wrap",width:"100%"});let l=u.createEl("button",{text:(0,re.getTranslation)(e,"datePicker.timeNotification"),cls:"mod-cta"});r(l,{flex:"1",minWidth:"120px",padding:"10px",fontSize:"14px",whiteSpace:"nowrap"}),l.id="notification-type-time";let c=u.createEl("button",{text:(0,re.getTranslation)(e,"datePicker.locationNotification"),cls:"mod-secondary"});r(c,{flex:"1",minWidth:"120px",padding:"10px",fontSize:"14px",whiteSpace:"nowrap"}),c.id="notification-type-location";let d=m=>{m==="time"?(l.className="mod-cta",c.className="mod-secondary"):(l.className="mod-secondary",c.className="mod-cta")};return l.addEventListener("click",()=>{d("time"),a("time")}),c.addEventListener("click",()=>{d("location"),a("location")}),d(o),{container:n,timeButton:l,locationButton:c,setType:m=>{d(m),a(m)}}}function Me(t,e){let i=t.createEl("div");r(i,{marginTop:"15px",width:"100%",boxSizing:"border-box"}),i.id="debug-panel-container";let o=i.createEl("h3",{text:"Logs de debug"});r(o,{margin:"0 0 10px 0",fontSize:"16px",fontWeight:"600"});let a=i.createEl("div");r(a,{height:"200px",maxHeight:"200px",overflowY:"auto",overflowX:"hidden",padding:"10px",margin:"5px 0",background:"var(--background-primary)",border:"2px solid var(--interactive-accent)",borderRadius:"8px",boxSizing:"border-box",fontFamily:"monospace",fontSize:"11px"}),a.id="debug-log-container";let n=[],s=c=>{let m=`[${new Date().toLocaleTimeString()}] ${c}`;n.push(m),n.length>50&&n.shift(),e(c),l()},u=()=>{n.length=0,l()},l=()=>{if(a.empty(),n.length===0){let c=a.createEl("div",{text:"No hay logs a\xFAn. Los logs aparecer\xE1n aqu\xED cuando se carguen las ubicaciones."});r(c,{padding:"10px",textAlign:"center",color:"var(--text-muted)",fontSize:"12px"})}else n.forEach(c=>{let d=c.includes("Error")||c.includes("FAIL")||c.includes("Fallo")||c.toLowerCase().includes("error"),m=c.includes("SUCCESS")||c.includes("\xC9xito")||c.includes("OK")||c.toLowerCase().includes("success"),v=c.includes("WARNING")||c.includes("Advertencia")||c.includes("Warning")||c.toLowerCase().includes("warning"),k=d?"var(--text-error)":m?"var(--text-success)":v?"var(--text-warning)":"var(--text-normal)",T=d?"rgba(255, 0, 0, 0.1)":m?"rgba(0, 255, 0, 0.1)":"transparent",f=a.createEl("div");r(f,{margin:"2px 0",padding:"4px 6px",color:k,background:T,borderLeft:`2px solid ${k}`,borderRadius:"2px",wordWrap:"break-word",whiteSpace:"pre-wrap"}),f.textContent=c}),a.scrollTop=a.scrollHeight};return l(),{container:i,addLog:s,clear:u}}var A=D();var He=U(require("obsidian"));var pe="https://us-central1-notalert-2a44a.cloudfunctions.net",Re=`${pe}/pluginScheduleEmail`,Ie=`${pe}/pluginListLocations`,qe=`${pe}/pluginSchedulePushNotification`;function Oe(t){return t instanceof Error&&"status"in t&&typeof t.status=="number"&&(t.message==="PREMIUM_REQUIRED"||t.status===403)}async function ze(t){try{if(!t?.trim())return{locations:[],error:"TOKEN_REQUIRED",isPremiumError:!1};let e=t.trim(),i=await(0,He.requestUrl)({url:Ie,method:"GET",headers:{"Content-Type":"application/json","x-plugin-token":e}});if(i.status>=400){let n=i.json??{},s=n.message||n.error||`HTTP ${i.status}`;throw i.status===403?Object.assign(new Error("PREMIUM_REQUIRED"),{status:403,errorData:n}):new Error(s)}let o=i.json??{};if(!o.success){let n=o.message||o.error||"Error desconocido al cargar ubicaciones";throw new Error(n)}return{locations:Array.isArray(o.locations)?o.locations:[],error:null,isPremiumError:!1}}catch(e){return Oe(e)?{locations:[],error:R(e),isPremiumError:!0}:{locations:[],error:R(e),isPremiumError:!1}}}var Ue=U(require("obsidian"));var st="https://us-central1-notalert-2a44a.cloudfunctions.net",Be=`${st}/pluginGetPremiumStatus`,M={isPremium:!1,loading:!0},me=0,ei=5*60*1e3,oe=[];function $e(t){return oe.push(t),()=>{let e=oe.indexOf(t);e>-1&&oe.splice(e,1)}}function ct(t){oe.forEach(e=>{try{e(t)}catch(i){console.error("[PremiumService] Error en callback:",i)}})}function ae(){return{...M}}async function Fe(t){let e=t?.trim();if(!e){console.debug("[PremiumService] No hay token para precargar"),M={isPremium:!1,loading:!1};return}if(e.length!==64){console.warn(`[PremiumService] Token con longitud incorrecta: ${e.length}, esperado: 64. No se precargar\xE1 el estado premium.`),M={isPremium:!1,loading:!1};return}console.debug("[PremiumService] Precargando estado premium..."),await lt(e,!0)}async function lt(t,e){let i=t.trim(),o=Date.now();if(i.length!==64)return console.warn(`[PremiumService] Token con longitud incorrecta: ${i.length}, esperado: 64`),M={isPremium:!1,loading:!1},M;try{console.debug(`[PremiumService] Llamando a ${Be}`,{tokenLength:i.length,tokenPreview:`${i.substring(0,4)}...${i.substring(i.length-4)}`});let a=await(0,Ue.requestUrl)({url:Be,method:"GET",headers:{"Content-Type":"application/json","x-plugin-token":i}});console.debug(`[PremiumService] Respuesta recibida: status=${a.status}`);let n=a.json;if(a.status===200){let s=n.isPremium===!0,u={isPremium:s,loading:!1,expiresAt:n.expiresAt?new Date(n.expiresAt):void 0};return console.debug(`[PremiumService] ${s?"\u2705 Usuario ES premium":"\u274C Usuario NO es premium"}`),M=u,me=o,ct(u),u}if(a.status===401){console.warn("[PremiumService] \u26A0\uFE0F Token inv\xE1lido");let s={isPremium:!1,loading:!1};return M=s,me=o,s}return console.error("[PremiumService] Error inesperado:",a.status),M={isPremium:!1,loading:!1},M}catch(a){let n=R(a);if(n.includes("401")||n.includes("status 401")){console.warn("[PremiumService] \u26A0\uFE0F Token inv\xE1lido o no autorizado (401). Verifica que el token sea correcto.");let s={isPremium:!1,loading:!1};return M=s,me=o,s}return console.error("[PremiumService] Error fetching premium status:",a),M.loading?(M={isPremium:!1,loading:!1},M):(console.debug("[PremiumService] Usando cache por error de red"),{...M,cached:!0})}}async function Ve(t,e,i,o,a){let n=t.createEl("div");r(n,{marginTop:"15px",width:"100%",boxSizing:"border-box"});let s=n.createEl("h3",{text:(0,A.getTranslation)(e,"datePicker.selectLocationTitle")||"Selecciona una ubicaci\xF3n"});r(s,{margin:"0 0 10px 0",fontSize:"16px",fontWeight:"600"});let u=n.createEl("div");r(u,{height:"260px",maxHeight:"260px",overflowY:"auto",overflowX:"hidden",padding:"10px",margin:"5px 0",background:"var(--background-primary)",border:"2px solid var(--interactive-accent)",borderRadius:"8px",boxSizing:"border-box"}),u.id="location-list-container";let l=null,c=()=>{u.empty();let p=u.createEl("div");r(p,{padding:"30px 20px",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",gap:"12px"}),p.createEl("div").createEl("div",{cls:"notelert-spinner"});let g=p.createEl("div",{text:(0,A.getTranslation)(e,"datePicker.loadingLocations")||"Cargando ubicaciones..."});r(g,{color:"var(--text-muted)",fontSize:"13px"})},d=(p,h)=>{if(u.empty(),h){v();return}if(p==="TOKEN_REQUIRED"){m();return}k(p)},m=()=>{let p=u.createEl("div");r(p,{padding:"20px",textAlign:"center"}),p.createEl("div",{text:"\u{1F511}"});let h=p.querySelector("div");h&&E(h)&&r(h,{fontSize:"32px",marginBottom:"12px"});let g=p.createEl("div",{text:(0,A.getTranslation)(e,"datePicker.tokenRequiredTitle")||"Token del plugin requerido"});r(g,{color:"var(--text-normal)",fontSize:"16px",fontWeight:"600",marginBottom:"8px"});let b=p.createEl("div",{text:(0,A.getTranslation)(e,"datePicker.tokenRequiredDesc")||`Las notificaciones de ubicaci\xF3n requieren un usuario Premium con token v\xE1lido.

Para obtener tu token:
1. Abre la app Notelert en tu m\xF3vil
2. Ve a Settings > Token del Plugin
3. Copia el token y p\xE9galo en Settings > Notelert > Plugin Token`});r(b,{color:"var(--text-muted)",fontSize:"13px",lineHeight:"1.6",whiteSpace:"pre-line",marginBottom:"12px"});let P=p.createEl("button",{text:(0,A.getTranslation)(e,"datePicker.openSettings")||"Abrir Settings"});r(P,{padding:"10px 20px",borderRadius:"6px",border:"1px solid var(--interactive-accent)",background:"var(--interactive-accent)",color:"var(--text-on-accent)",fontSize:"14px",fontWeight:"500",cursor:"pointer",width:"100%"}),P.addEventListener("click",()=>{let C="notelert://account";try{typeof window!="undefined"&&(window.location.href=C,setTimeout(()=>{let L="https://play.google.com/store/apps/details?id=com.quim79.notelert";window.open(L,"_blank")},2e3))}catch{let L="https://play.google.com/store/apps/details?id=com.quim79.notelert";typeof window!="undefined"&&window.open(L,"_blank")}})},v=()=>{let p=u.createEl("div");r(p,{padding:"20px",textAlign:"center"}),p.createEl("div",{text:"\u{1F48E}"});let h=p.querySelector("div");h&&E(h)&&r(h,{fontSize:"32px",marginBottom:"12px"});let g=p.createEl("div",{text:(0,A.getTranslation)(e,"datePicker.premiumRequiredTitle")||"Plan Premium requerido"});r(g,{color:"var(--text-normal)",fontSize:"16px",fontWeight:"600",marginBottom:"8px"});let b=p.createEl("div",{text:(0,A.getTranslation)(e,"datePicker.premiumRequiredDesc")||`Las notificaciones de ubicaci\xF3n solo est\xE1n disponibles en el plan Premium.

Actualiza a Premium para usar esta funci\xF3n.`});r(b,{color:"var(--text-muted)",fontSize:"13px",lineHeight:"1.6",whiteSpace:"pre-line",marginBottom:"16px"});let P=p.createEl("button",{text:(0,A.getTranslation)(e,"datePicker.openAppToUpgrade")||"Abrir app para actualizar"});r(P,{padding:"10px 20px",borderRadius:"6px",border:"1px solid var(--interactive-accent)",background:"var(--interactive-accent)",color:"var(--text-on-accent)",fontSize:"14px",fontWeight:"500",cursor:"pointer",marginBottom:"8px",width:"100%"}),P.addEventListener("click",()=>{let L="notelert://paywall";try{typeof window!="undefined"&&(window.location.href=L,setTimeout(()=>{let S="https://play.google.com/store/apps/details?id=com.quim79.notelert";window.open(S,"_blank")},2e3))}catch{let S="https://play.google.com/store/apps/details?id=com.quim79.notelert";typeof window!="undefined"&&window.open(S,"_blank")}});let C=p.createEl("button",{text:(0,A.getTranslation)(e,"datePicker.installApp")||"Instalar app desde Play Store"});r(C,{padding:"8px 16px",borderRadius:"6px",border:"1px solid var(--background-modifier-border)",background:"var(--background-primary)",color:"var(--text-normal)",fontSize:"13px",cursor:"pointer",width:"100%"}),C.addEventListener("click",()=>{let L="https://play.google.com/store/apps/details?id=com.quim79.notelert";window.open(L,"_blank")})},k=p=>{let h=u.createEl("div");r(h,{padding:"20px",textAlign:"center"});let g=h.createEl("div",{text:`${(0,A.getTranslation)(e,"common.error")||"Error"}: ${p}`});r(g,{color:"var(--text-error)",fontSize:"14px",fontWeight:"600",marginBottom:"8px"});let b=h.createEl("div",{text:(0,A.getTranslation)(e,"datePicker.locationsErrorDesc")||`Verifica que:
1. El token sea correcto
2. Tengas ubicaciones guardadas en la app
3. Usa el bot\xF3n 'Ver logs' para m\xE1s detalles`});r(b,{color:"var(--text-muted)",fontSize:"12px",lineHeight:"1.6",whiteSpace:"pre-line"})},T=()=>{u.empty();let p=u.createEl("div");r(p,{padding:"20px",textAlign:"center"}),p.createEl("div",{text:"\u{1F4CD}"});let h=p.querySelector("div");h&&E(h)&&r(h,{fontSize:"32px",marginBottom:"12px"});let g=p.createEl("div",{text:(0,A.getTranslation)(e,"datePicker.noSavedLocationsTitle")||"No hay ubicaciones guardadas"});r(g,{color:"var(--text-normal)",fontSize:"15px",fontWeight:"600",marginBottom:"8px"});let b=p.createEl("div",{text:(0,A.getTranslation)(e,"datePicker.noSavedLocationsDesc")||`Para crear ubicaciones:
1. Abre la app Notelert en tu m\xF3vil
2. Ve a Settings > Mis Ubicaciones
3. A\xF1ade ubicaciones desde el mapa
4. Vuelve aqu\xED y recarga la lista`});r(b,{color:"var(--text-muted)",fontSize:"12px",lineHeight:"1.6",whiteSpace:"pre-line",marginBottom:"12px"});let P=p.createEl("button",{text:(0,A.getTranslation)(e,"datePicker.reloadLocations")||"Recargar ubicaciones"});r(P,{padding:"8px 16px",borderRadius:"6px",border:"1px solid var(--interactive-accent)",background:"var(--interactive-accent)",color:"var(--text-on-accent)",fontSize:"13px",cursor:"pointer",marginTop:"8px"}),P.addEventListener("click",()=>{I()})},f=p=>{u.empty(),l=null,p.forEach((h,g)=>{let b=u.createEl("div");r(b,{padding:"12px 15px",margin:"8px 0",border:"2px solid var(--background-modifier-border)",borderRadius:"6px",cursor:"pointer",transition:"all 0.2s",background:"var(--background-primary)",width:"100%",boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"space-between"}),b.id=`location-item-${g}`;let P=h.name||`Ubicaci\xF3n ${g+1}`,C=b.createEl("div",{text:P});r(C,{fontWeight:"500",fontSize:"14px",flex:"1"});let L=b.createEl("div",{text:"\u2713"});r(L,{fontSize:"18px",color:"var(--interactive-accent)",fontWeight:"bold",opacity:"0",transition:"opacity 0.2s",marginLeft:"10px"}),L.id=`check-icon-${g}`;let S=()=>{p.forEach(($,F)=>{let J=document.getElementById(`location-item-${F}`),y=document.getElementById(`check-icon-${F}`);if(J&&y){let w=J.querySelector("div:first-child");r(J,{background:"var(--background-primary)",borderColor:"var(--background-modifier-border)"}),w&&E(w)&&r(w,{color:"var(--text-normal)"}),r(y,{opacity:"0"})}}),r(b,{background:"var(--interactive-accent)",borderColor:"var(--interactive-accent)"}),r(C,{color:"var(--text-on-accent)"}),r(L,{opacity:"1"}),l=h,o(h)};b.addEventListener("click",S),b.addEventListener("mouseenter",()=>{l!==h&&r(b,{background:"var(--background-modifier-hover)",borderColor:"var(--interactive-accent)"})}),b.addEventListener("mouseleave",()=>{l!==h&&r(b,{background:"var(--background-primary)",borderColor:"var(--background-modifier-border)"})})})},I=async()=>{let p=i.settings.pluginToken?.trim(),h=ae();if(a(`[Ubicaciones] Estado premium precargado: ${h.isPremium}`),!p){a("[Ubicaciones] Token no configurado"),d("TOKEN_REQUIRED",!1);return}if(!h.isPremium&&!h.loading){a("[Ubicaciones] Usuario no es premium, mostrando mensaje"),d("PREMIUM_REQUIRED",!0);return}c(),a("[Ubicaciones] Iniciando carga de ubicaciones"),a(`[Ubicaciones] Token presente: ${!!p}, Longitud: ${p?.length||0}`);let g=await ze(p);if(g.error){a(`[Ubicaciones] FAIL Error: ${g.error}`),d(g.error,g.isPremiumError);return}if(g.locations.length===0){a("[Ubicaciones] WARNING No hay ubicaciones guardadas"),T();return}a(`[Ubicaciones] SUCCESS Ubicaciones cargadas: ${g.locations.length}`),g.locations.forEach((b,P)=>{a(`[Ubicaciones]   ${P+1}. ${b.name} (${b.latitude}, ${b.longitude})`)}),f(g.locations)};return await I(),{container:n,selectedLocation:l,reload:I}}var H=D();function _e(t,e,i,o,a){let n={enabled:!1,interval:1,unit:"day",endType:"never",endCount:10,endDate:void 0},s=t.createEl("div",{cls:"notelert-recurrence-container"});r(s,{marginTop:"15px",padding:"15px",background:"var(--background-secondary)",borderRadius:"8px",width:"100%",boxSizing:"border-box"});let u=s.createEl("div",{cls:"notelert-recurrence-toggle"});r(u,{display:"flex",alignItems:"center",justifyContent:"space-between",cursor:a?"pointer":"not-allowed",opacity:a?"1":"0.7"});let l=u.createEl("label",{text:(0,H.getTranslation)(e,"recurrence.repeatLabel")||"Repetir"});r(l,{fontWeight:"500",fontSize:"14px",cursor:a?"pointer":"not-allowed",display:"flex",alignItems:"center",gap:"8px"});let c=u.createEl("input",{type:"checkbox"});c.id="recurrence-toggle",c.disabled=!a,r(c,{width:"18px",height:"18px",cursor:a?"pointer":"not-allowed"});let d=null;a||(d=s.createEl("div",{text:(0,H.getTranslation)(e,"recurrence.premiumHint")||"\u2B50 Actualiza a Premium para usar notificaciones recurrentes"}),r(d,{fontSize:"11px",color:"var(--text-muted)",marginTop:"8px",fontStyle:"italic"}));let m=s.createEl("div",{cls:"notelert-recurrence-options"});r(m,{display:"none",marginTop:"15px",paddingTop:"15px",borderTop:"1px solid var(--background-modifier-border)"});let v=m.createEl("div");r(v,{display:"flex",alignItems:"center",gap:"10px",marginBottom:"12px",flexWrap:"wrap"}),v.createEl("span",{text:(0,H.getTranslation)(e,"recurrence.every")||"Cada"});let k=v.createEl("input",{type:"number"});k.value="1",k.min="1",k.max="365",r(k,{width:"60px",padding:"6px 8px",borderRadius:"4px",border:"1px solid var(--background-modifier-border)",background:"var(--background-primary)",textAlign:"center"});let T=v.createEl("select");r(T,{padding:"6px 10px",borderRadius:"4px",border:"1px solid var(--background-modifier-border)",background:"var(--background-primary)",minWidth:"100px"}),[{value:"day",labelKey:"recurrence.day",defaultLabel:"D\xEDa(s)"},{value:"week",labelKey:"recurrence.week",defaultLabel:"Semana(s)"},{value:"month",labelKey:"recurrence.month",defaultLabel:"Mes(es)"},{value:"year",labelKey:"recurrence.year",defaultLabel:"A\xF1o(s)"}].forEach(y=>{let w=T.createEl("option",{value:y.value,text:(0,H.getTranslation)(e,y.labelKey)||y.defaultLabel});y.value==="day"&&(w.selected=!0)});let I=m.createEl("div",{text:(0,H.getTranslation)(e,"recurrence.ends")||"Termina:"});r(I,{marginBottom:"8px",fontWeight:"500",fontSize:"13px"});let p=m.createEl("div");r(p,{display:"flex",flexDirection:"column",gap:"8px"});let h=p.createEl("label");r(h,{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",fontSize:"13px"});let g=h.createEl("input",{type:"radio"});g.name="recurrence-end",g.value="never",g.checked=!0,h.createEl("span",{text:(0,H.getTranslation)(e,"recurrence.never")||"Nunca"});let b=p.createEl("label");r(b,{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",fontSize:"13px",flexWrap:"wrap"});let P=b.createEl("input",{type:"radio"});P.name="recurrence-end",P.value="count",b.createEl("span",{text:(0,H.getTranslation)(e,"recurrence.after")||"Despu\xE9s de"});let C=b.createEl("input",{type:"number"});C.value="10",C.min="1",C.max="999",r(C,{width:"50px",padding:"4px 6px",borderRadius:"4px",border:"1px solid var(--background-modifier-border)",background:"var(--background-primary)",textAlign:"center"}),b.createEl("span",{text:(0,H.getTranslation)(e,"recurrence.times")||"veces"});let L=p.createEl("label");r(L,{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",fontSize:"13px",flexWrap:"wrap"});let S=L.createEl("input",{type:"radio"});S.name="recurrence-end",S.value="date",L.createEl("span",{text:(0,H.getTranslation)(e,"recurrence.onDate")||"En fecha"});let $=L.createEl("input",{type:"date"}),F=new Date;return F.setMonth(F.getMonth()+1),$.value=F.toISOString().split("T")[0],r($,{padding:"4px 8px",borderRadius:"4px",border:"1px solid var(--background-modifier-border)",background:"var(--background-primary)"}),c.addEventListener("change",()=>{if(!a){c.checked=!1;return}n.enabled=c.checked,r(m,{display:c.checked?"block":"none"}),i(c.checked)}),l.addEventListener("click",()=>{!a||(c.checked=!c.checked,c.dispatchEvent(new Event("change")))}),k.addEventListener("change",()=>{n.interval=parseInt(k.value)||1}),T.addEventListener("change",()=>{n.unit=T.value}),g.addEventListener("change",()=>{g.checked&&(n.endType="never")}),P.addEventListener("change",()=>{P.checked&&(n.endType="count")}),C.addEventListener("change",()=>{n.endCount=parseInt(C.value)||10}),S.addEventListener("change",()=>{S.checked&&(n.endType="date")}),$.addEventListener("change",()=>{n.endDate=$.value}),{container:s,getConfig:()=>({...n,interval:parseInt(k.value)||1,unit:T.value,endCount:parseInt(C.value)||10,endDate:$.value}),setEnabled:y=>{c.checked=y,n.enabled=y,r(m,{display:y?"block":"none"})},isEnabled:()=>n.enabled,updatePremiumStatus:y=>{c.disabled=!y,r(c,{cursor:y?"pointer":"not-allowed"}),r(u,{cursor:y?"pointer":"not-allowed",opacity:y?"1":"0.7"}),r(l,{cursor:y?"pointer":"not-allowed"}),y&&d?(d.remove(),d=null):!y&&!d&&(d=s.createEl("div",{text:(0,H.getTranslation)(e,"recurrence.premiumHint")||"\u2B50 Actualiza a Premium para usar notificaciones recurrentes"}),r(d,{fontSize:"11px",color:"var(--text-muted)",marginTop:"8px",fontStyle:"italic"}),s.insertBefore(d,m))}}}var ge=class extends B.Modal{constructor(e,i,o,a,n,s,u,l){super(e);this.notificationType="time";this.selectedLocation=null;this.showDebugPanel=!1;this.datePicker=null;this.timePicker=null;this.quickActions=null;this.typeSelector=null;this.debugPanel=null;this.locationList=null;this.recurrenceSelector=null;this.container=null;this.isPremium=!1;this.unsubscribePremium=null;this.plugin=i,this.language=o,this.editor=a,this.cursor=n,this.originalText=s,this.trigger=u||":@",this.onCancel=l}onOpen(){let{contentEl:e}=this;e.empty();let i=!B.Platform.isMobile;r(e,{minWidth:i?"400px":"300px",maxWidth:i?"500px":"600px",width:i?"auto":"95vw",maxHeight:i?"auto":"90vh",overflow:"visible",padding:i?"25px":"20px",boxSizing:"border-box",display:"flex",flexDirection:"column",margin:"0 auto"});let o=e.createEl("div");r(o,{flex:"1 1 auto",overflowY:i?"visible":"auto",overflowX:"hidden",paddingRight:i?"0":"5px",marginBottom:"10px",minHeight:"0"});let a=o.createEl("h2",{text:(0,z.getTranslation)(this.language,"datePicker.title")});r(a,{margin:"0 0 15px 0",fontSize:"18px",fontWeight:"600"}),this.container=o.createEl("div",{cls:"notelert-datepicker-container"}),r(this.container,{margin:"0",width:"100%",display:"block",visibility:"visible",minHeight:"200px"}),this.plugin.log(`Container creado: ${this.container?"OK":"NULL"}`),this.plugin.log(`Container parent: ${this.container?.parentElement?"OK":"NULL"}`),i&&(this.notificationType="time");let n=ae();this.isPremium=n.isPremium,this.plugin.log(`\u{1F4CC} Estado premium precargado: ${this.isPremium} (loading: ${n.loading})`),this.unsubscribePremium=$e(s=>{s.isPremium!==this.isPremium&&(this.isPremium=s.isPremium,this.plugin.log(`\u{1F504} Estado premium actualizado: ${this.isPremium}`),this.recurrenceSelector&&this.recurrenceSelector.updatePremiumStatus(this.isPremium))}),this.createComponents(i),this.createActionButtons(e)}createComponents(e){if(!this.container){this.plugin.log("Error: container es null en createComponents");return}try{if(this.plugin.log(`Creando componentes para desktop: ${e}`),this.typeSelector=De(this.container,this.language,e,this.notificationType,l=>{this.notificationType=l,this.selectedLocation=null,this.updateModalContent()}),this.plugin.log("TypeSelector creado"),!e){let l=this.container.createEl("div");r(l,{marginBottom:"10px",display:"flex",justifyContent:"flex-end"});let c=l.createEl("button",{text:"Ver logs",cls:"mod-secondary"});r(c,{padding:"6px 12px",fontSize:"12px"}),c.addEventListener("click",()=>{this.showDebugPanel=!this.showDebugPanel,this.updateDebugPanel(),c.textContent=this.showDebugPanel?"Ocultar logs":"Ver logs"})}this.plugin.log("Creando DatePicker..."),this.datePicker=Ce(this.container,this.language,Y()),this.plugin.log(`DatePicker creado: ${this.datePicker?"OK":"NULL"}`),this.plugin.log("\u{1F527} Creando TimePicker..."),this.timePicker=we(this.container,this.language,e),this.plugin.log(`SUCCESS TimePicker creado: ${this.timePicker?"OK":"NULL"}`),this.plugin.log("\u{1F527} Creando QuickActions..."),this.quickActions=Ae(this.container,this.language,(l,c)=>{if(this.datePicker&&(this.datePicker.dateInput.value=l),this.timePicker){this.timePicker.timeInput.value=c;let[d,m]=c.split(":").map(Number);this.timePicker.updateTime(d,m)}}),this.plugin.log(`SUCCESS QuickActions creado: ${this.quickActions?"OK":"NULL"}`),this.plugin.log("\u{1F527} Creando RecurrenceSelector..."),this.recurrenceSelector=_e(this.container,this.language,l=>{this.plugin.log(`Recurrencia ${l?"activada":"desactivada"}`)},()=>{this.showPremiumRequiredModal()},this.isPremium),this.plugin.log(`SUCCESS RecurrenceSelector creado: ${this.recurrenceSelector?"OK":"NULL"}`),e||(this.debugPanel=Me(this.container,l=>{this.plugin.log(l)}),this.showDebugPanel||r(this.debugPanel.container,{display:"none"}));let i=this.container.querySelector(".notelert-date-container"),o=this.container.querySelector(".notelert-time-container"),a=this.container.querySelector("#quick-actions-container");this.plugin.log("DEBUG Verificaci\xF3n DOM ANTES de updateModalContent:"),this.plugin.log(`  - DateContainer: ${i?"ENCONTRADO":"NO ENCONTRADO"}`),this.plugin.log(`  - TimeContainer: ${o?"ENCONTRADO":"NO ENCONTRADO"}`),this.plugin.log(`  - QuickActions: ${a?"ENCONTRADO":"NO ENCONTRADO"}`),i&&E(i)&&r(i,{display:"block",visibility:"visible",opacity:"1"}),o&&E(o)&&r(o,{display:"block",visibility:"visible",opacity:"1"}),a&&E(a)&&r(a,{display:"block",visibility:"visible",opacity:"1"}),this.updateModalContent();let n=this.container.querySelector(".notelert-date-container"),s=this.container.querySelector(".notelert-time-container"),u=this.container.querySelector("#quick-actions-container");this.plugin.log("DEBUG Verificaci\xF3n DOM DESPU\xC9S de updateModalContent:"),this.plugin.log(`  - DateContainer display: ${n?n.style.display:"NULL"}`),this.plugin.log(`  - TimeContainer display: ${s?s.style.display:"NULL"}`),this.plugin.log(`  - QuickActions display: ${u?u.style.display:"NULL"}`),this.plugin.log("SUCCESS Componentes creados y actualizados")}catch(i){let o=i instanceof Error?i.message:String(i);this.plugin.log(`FAIL Error creando componentes: ${o}`),console.error("Error en createComponents:",i)}}updateModalContent(){if(!this.container)return;let e=this.container.querySelector(".notelert-date-container"),i=this.container.querySelector(".notelert-time-container"),o=this.container.querySelector("#quick-actions-container"),a=this.container.querySelector(".notelert-recurrence-container"),n=this.container.querySelector("#location-list-container"),s=this.container.querySelector("#debug-panel-container");this.notificationType==="location"?(E(e)&&r(e,{display:"none",visibility:"hidden"}),E(i)&&r(i,{display:"none",visibility:"hidden"}),E(o)&&r(o,{display:"none",visibility:"hidden"}),E(a)&&r(a,{display:"none",visibility:"hidden"}),n?E(n)&&r(n,{display:"block",visibility:"visible"}):this.createLocationList()):(E(e)&&r(e,{display:"block",visibility:"visible",opacity:"1"}),E(i)&&r(i,{display:"block",visibility:"visible",opacity:"1"}),E(o)&&r(o,{display:"block",visibility:"visible",opacity:"1"}),E(a)&&r(a,{display:"block",visibility:"visible",opacity:"1"}),E(n)&&r(n,{display:"none",visibility:"hidden"})),this.showDebugPanel&&E(s)?r(s,{display:"block",visibility:"visible"}):this.showDebugPanel&&!s&&this.debugPanel&&r(this.debugPanel.container,{display:"block",visibility:"visible"})}async createLocationList(){if(!this.container)return;let e=this.container.querySelector("#location-list-container");e&&e.remove(),this.locationList=await Ve(this.container,this.language,this.plugin,i=>{this.selectedLocation=i},i=>{this.debugPanel&&this.debugPanel.addLog(i),this.plugin.log(i)})}updateDebugPanel(){!this.debugPanel||r(this.debugPanel.container,{display:this.showDebugPanel?"block":"none"})}showPremiumRequiredModal(){let e=new B.Modal(this.app);e.titleEl.setText((0,z.getTranslation)(this.language,"recurrence.premiumRequired")||"Premium Required");let i=e.contentEl;r(i,{padding:"20px",textAlign:"center"});let o=i.createEl("div",{text:"\u{1F504}\u2728"});r(o,{fontSize:"48px",marginBottom:"15px"});let a=i.createEl("p",{text:(0,z.getTranslation)(this.language,"recurrence.premiumRequiredDesc")||"Upgrade to Premium to create reminders that repeat automatically."});r(a,{marginBottom:"20px",color:"var(--text-muted)",lineHeight:"1.5"});let n=i.createEl("div");r(n,{display:"flex",gap:"10px",justifyContent:"center",flexWrap:"wrap"});let s=n.createEl("button",{text:(0,z.getTranslation)(this.language,"recurrence.openApp")||"\u{1F4F1} Open app to upgrade",cls:"mod-cta"});r(s,{padding:"10px 20px"}),s.addEventListener("click",()=>{window.open("notelert://premium","_blank"),e.close()});let u=n.createEl("button",{text:(0,z.getTranslation)(this.language,"datePicker.cancelButton")||"Cancel",cls:"mod-secondary"});r(u,{padding:"10px 20px"}),u.addEventListener("click",()=>{e.close()}),e.open()}createActionButtons(e){let i=e.createEl("div",{cls:"notelert-datepicker-buttons"});r(i,{display:"flex",gap:"10px",justifyContent:"flex-end",marginTop:"10px",flexWrap:"wrap",flexShrink:"0",paddingTop:"10px",borderTop:"1px solid var(--background-modifier-border)",width:"100%",boxSizing:"border-box"});let o=i.createEl("button",{text:(0,z.getTranslation)(this.language,"datePicker.cancelButton"),cls:"mod-secondary"});r(o,{flex:"1",minWidth:"120px",padding:"12px 20px",fontSize:"14px",boxSizing:"border-box"}),o.addEventListener("click",()=>{this.onCancel(),this.close()});let a=i.createEl("button",{text:(0,z.getTranslation)(this.language,"datePicker.confirmButton"),cls:"mod-cta"});r(a,{flex:"1",minWidth:"120px",padding:"12px 20px",fontSize:"14px",boxSizing:"border-box"}),a.id="datepicker-confirm-button",a.addEventListener("click",()=>{Le(a,this.language),(async()=>{try{if(this.notificationType==="location"){if(!this.selectedLocation){W(a,this.language),new B.Notice((0,z.getTranslation)(this.language,"datePicker.selectSavedLocation")||"Por favor, selecciona una ubicaci\xF3n");return}let n=await Se(this.plugin,this.editor,this.cursor,this.trigger,this.selectedLocation,this.language);W(a,this.language),n&&this.close()}else{if(!this.datePicker||!this.timePicker){W(a,this.language),new B.Notice((0,z.getTranslation)(this.language,"datePicker.selectDateTime"));return}let n=this.datePicker.dateInput.value,s=this.timePicker.timeInput.value;if(n&&s){let u=`${this.trigger}${n}, ${s}`,l=this.editor.getLine(this.cursor.line),c=l.substring(0,this.cursor.ch-this.trigger.length),d=l.substring(this.cursor.ch),m=c+u+d;this.editor.setLine(this.cursor.line,m);let v={line:this.cursor.line,ch:c.length+u.length};this.editor.setCursor(v);let k=this.recurrenceSelector?.getConfig(),T=await ye(this.plugin,this.editor,this.cursor,this.trigger,n,s,m,this.language,k);W(a,this.language),T&&this.close()}else W(a,this.language),new B.Notice((0,z.getTranslation)(this.language,"datePicker.selectDateTime"))}}catch(n){W(a,this.language);let s=n instanceof Error?n.message:"Error desconocido";this.plugin.log(`Error en confirmaci\xF3n: ${s}`),new B.Notice(`Error: ${s}`)}})()})}onClose(){this.unsubscribePremium&&(this.unsubscribePremium(),this.unsubscribePremium=null);let{contentEl:e}=this;e.empty(),this.container=null,this.datePicker=null,this.timePicker=null,this.quickActions=null,this.typeSelector=null,this.debugPanel=null,this.locationList=null,this.recurrenceSelector=null}};function Ge(t,e,i){if(!i.settings.enableDatePicker||!i.settings.useNewSyntax)return;let o=t.getCursor(),n=t.getLine(o.line).substring(0,o.ch),s=i.settings.datePickerTrigger||":@";if(n.endsWith(s)){i.log(`Detectado ${s} - abriendo date picker`),ut(t,o,i,s);return}}function ut(t,e,i,o=":@"){let n=t.getLine(e.line);new ge(i.app,i,i.settings.language,t,e,n,o,()=>{i.log("Date picker cancelado")}).open()}var O=U(require("obsidian")),j=D();var fe=U(require("obsidian"));async function We(t,e,i,o,a,n){try{let s={to:t,title:e,message:i,scheduledDate:o.toISOString(),notificationId:a,userEmail:t};if(!n||n.trim()==="")return{success:!1,error:"Token del plugin requerido. Configura tu token en Settings > Notelert > Plugin Token."};let u=await(0,fe.requestUrl)({url:Re,method:"POST",headers:{"Content-Type":"application/json","x-plugin-token":n},body:JSON.stringify(s)});if(u.status>=400){let c;try{let d=u.text;c=d?JSON.parse(d):{error:`HTTP ${u.status}`}}catch{c={error:`HTTP ${u.status}`}}return u.status===400?{success:!1,error:c.message||c.error||"Datos inv\xE1lidos"}:u.status===403?{success:!1,error:c.message||c.error||"Usuario no es premium o suscripci\xF3n expirada"}:u.status===404?{success:!1,error:c.message||c.error||"Usuario no encontrado. Debes registrarte primero en la app m\xF3vil."}:u.status===429?{success:!1,error:c.message||c.error||"L\xEDmite de emails alcanzado (m\xE1ximo 100)"}:{success:!1,error:c.message||c.error||`HTTP ${u.status}`}}let l;try{let c=u.text;l=c?JSON.parse(c):{}}catch{l={notificationId:a}}return{success:!0,notificationId:l.notificationId||a}}catch(s){let u=R(s);return u.includes("Failed to fetch")||u.includes("NetworkError")||u.includes("Network request failed")||u.includes("CORS")?u.includes("CORS")?{success:!1,error:"Error de CORS. El servidor no permite la petici\xF3n. Verifica la configuraci\xF3n del token."}:{success:!1,error:`Error de conexi\xF3n: ${u}. Verifica tu internet e intenta de nuevo.`}:{success:!1,error:u||"Error de red al programar email"}}}async function je(t,e,i,o){try{if(!i||i.trim()==="")return{success:!1,error:"Token del plugin requerido. Configura tu token en Settings > Notelert > Plugin Token."};let a=t.type||(t.location?"location":"time"),n={title:t.title,message:t.message,notificationId:e,type:a};if(a==="time"){let l=`${t.date}T${t.time}:00`,c=new Date(l);if(isNaN(c.getTime()))return{success:!1,error:`Fecha inv\xE1lida: ${l}`};n.scheduledDate=c.toISOString()}else if(a==="location"){let l,c=t.date,d=t.time;if(c&&d&&typeof c=="string"&&typeof d=="string"){let m=`${c}T${d}:00`;l=new Date(m),isNaN(l.getTime())&&(l=new Date)}else l=new Date;if(n.scheduledDate=l.toISOString(),!t.location||t.latitude===void 0||t.longitude===void 0)return{success:!1,error:"Datos de ubicaci\xF3n incompletos. Se requiere nombre, latitud y longitud."};n.location={latitude:t.latitude,longitude:t.longitude,address:t.location,triggerType:"arrive"}}else{let l=String(a);return{success:!1,error:`Tipo de notificaci\xF3n no soportado: ${l}`}}o&&(n.obsidianDeepLink=o),t.recurrence?.enabled&&(n.recurrence={enabled:!0,interval:t.recurrence.interval,unit:t.recurrence.unit,endType:t.recurrence.endType,endCount:t.recurrence.endCount,endDate:t.recurrence.endDate});let s=await(0,fe.requestUrl)({url:qe,method:"POST",headers:{"Content-Type":"application/json","x-plugin-token":i},body:JSON.stringify(n)});if(s.status>=400){let l;try{let c=s.text;l=c?JSON.parse(c):{error:`HTTP ${s.status}`}}catch{l={error:`HTTP ${s.status}`}}if(s.status===400)return{success:!1,error:l.message||l.error||"Datos inv\xE1lidos",errorCode:"LINK_ERROR"};if(s.status===401)return{success:!1,error:l.message||l.error||"Token inv\xE1lido o expirado.",errorCode:"TOKEN_INVALID"};if(s.status===403){let c=l.message||l.error||"Acceso denegado";return c.includes("Token")||c.includes("token")?{success:!1,error:c,errorCode:"TOKEN_INVALID"}:{success:!1,error:c,errorCode:"PREMIUM_REQUIRED"}}return s.status===404?{success:!1,error:l.message||l.error||"Usuario no encontrado. Debes registrarte primero en la app m\xF3vil.",errorCode:"USER_NOT_FOUND"}:s.status===429?{success:!1,error:l.message||l.error||"L\xEDmite de notificaciones alcanzado (m\xE1ximo 100/mes para usuarios free)",errorCode:"RATE_LIMIT"}:{success:!1,error:l.message||l.error||`Error desconocido (HTTP ${s.status})`,errorCode:"OTHER"}}let u;try{let l=s.text;u=l?JSON.parse(l):{}}catch{u={notificationId:e}}return{success:!0,notificationId:u.notificationId||e,scheduledFor:u.scheduledFor}}catch(a){let n=R(a);return n.includes("Failed to fetch")||n.includes("NetworkError")||n.includes("Network request failed")||n.includes("CORS")?n.includes("CORS")?{success:!1,error:"Error de CORS. El servidor no permite la petici\xF3n. Verifica la configuraci\xF3n del token."}:{success:!1,error:`Error de conexi\xF3n: ${n}. Verifica tu internet e intenta de nuevo.`}:{success:!1,error:n||"Error de red al programar notificaci\xF3n push"}}}function Ke(){let t=Math.random().toString(36).slice(2,11);return`obsidian-${Date.now()}-${t}`}async function he(t,e,i,o,a){try{if(!i.pluginToken||i.pluginToken.trim()===""){new O.Notice(`Token del plugin requerido

Para usar Notelert, necesitas:
1. Generar tu token en la app m\xF3vil (Settings > Token del Plugin)
2. Pegar el token en Settings > Notelert > Plugin Token`);return}if(O.Platform.isMobile&&ue()){new O.Notice((0,j.getTranslation)(i.language,"notices.iosNotSupported")||`iOS detectado

Notelert actualmente solo est\xE1 disponible para Android.
La app de iOS est\xE1 en desarrollo. Por favor, usa un dispositivo Android para crear notificaciones.`);return}let n=t.message;n=n.replace(/:@[^,\s]+,\s*[^\s]+/g,""),n=n.replace(/:#[^\s]+/g,""),n=n.trim().replace(/\s+/g," ");let s=Ke(),u=e.workspace.getActiveFile(),l;if(u&&t.filePath&&t.lineNumber){let f=e.vault.getName();l=`obsidian://open?vault=${encodeURIComponent(f)}&file=${encodeURIComponent(t.filePath)}&line=${t.lineNumber}`}let c=t.type||(t.location?"location":"time"),d;if(c==="time"){let f=`${t.date}T${t.time}:00`;if(d=new Date(f),isNaN(d.getTime())){new O.Notice(`Fecha inv\xE1lida: ${f}`),o(`Error: fecha inv\xE1lida - ${f}`);return}}o("Programando notificaci\xF3n push (Unified Flow)"),o(`  - Platform: ${O.Platform.isMobile?"Mobile":"Desktop"}`),o(`  - Tipo: ${c}`),o(`  - T\xEDtulo: ${t.title}`),o(`  - Mensaje: ${n}`),c==="time"&&d?o(`  - Fecha: ${d.toISOString()}`):c==="location"&&o(`  - Ubicaci\xF3n: ${t.location} (${t.latitude}, ${t.longitude})`),o(`  - Notification ID: ${s}`);let m=new O.Notice("Programando notificaci\xF3n...",0),v=await je({...t,message:n},s,i.pluginToken,l);if(m.hide(),!v.success){let f=v.error||"Error al programar notificaci\xF3n push";throw v.errorCode==="TOKEN_INVALID"?f=(0,j.getTranslation)(i.language,"notices.tokenInvalid403")||f:v.errorCode==="LINK_ERROR"?f=(0,j.getTranslation)(i.language,"notices.linkError400")||f:v.errorCode==="PREMIUM_REQUIRED"&&(f=(0,j.getTranslation)(i.language,"datePicker.premiumRequiredDesc")||f),new O.Notice(f,1e4),o(`Error programando push notification: ${f}`),new Error(f)}if(c==="time"&&i.userEmail&&d){o("Tambi\xE9n programando email para notificaci\xF3n de tiempo");let f=await We(i.userEmail,t.title,n,d,s,i.pluginToken);if(f.success&&f.notificationId){let I={notificationId:f.notificationId,title:t.title,message:n,scheduledDate:d.toISOString(),createdAt:new Date().toISOString()};a&&a(I),o(`Email tambi\xE9n programado: ${f.notificationId}`)}else o(`Advertencia: Push notification programada pero email fall\xF3: ${f.error||"Error desconocido"}`),f.error&&(f.error.includes("Token")||f.error.includes("premium"))&&new O.Notice(`\u26A0\uFE0F ${f.error}`,8e3)}let k=c==="location"?"notices.pushNotificationScheduledLocation":"notices.pushNotificationScheduled",T=(0,j.getTranslation)(i.language,k)||(c==="location"?"Notificaci\xF3n de ubicaci\xF3n programada correctamente":"Notificaci\xF3n programada correctamente");new O.Notice(T),o(`Push notification programada: ${v.notificationId}`)}catch(n){throw n instanceof Error&&(n.message.includes("Error al programar email")||n.message.includes("Token")||n.message.includes("inv\xE1lido")||n.message.includes("expirado"))||(o(`Error creando notificaci\xF3n: ${R(n)}`),new O.Notice((0,j.getTranslation)(i.language,"notices.errorCreatingNotification",{title:t.title}))),n}}var te=D();var be=class extends K.Plugin{async onload(){console.debug("Cargando plugin Notelert"),await this.loadSettings(),this.addSettingTab(new ce(this.app,this)),this.addStatusBarItem().setText("Notelert: activo"),this.settings.enableDatePicker&&this.registerEvent(this.app.workspace.on("editor-change",(e,i)=>{Ge(e,i,this)})),this.registerObsidianProtocolHandler("notelert-link",async e=>{await this.handleTokenLink(e)}),this.preloadPremium(),console.debug("Plugin Notelert cargado correctamente")}async preloadPremium(){try{await Fe(this.settings.pluginToken),console.debug("[Notelert] Estado premium precargado")}catch(e){console.debug("[Notelert] Error precargando premium:",e)}}onunload(){console.debug("Descargando plugin Notelert")}async loadSettings(){this.settings=Object.assign({},ke,await this.loadData())}async saveSettings(){await this.saveData(this.settings)}async createNotificationInternal(e){await he(e,this.app,this.settings,i=>this.log(i),i=>{(async()=>{this.settings.scheduledEmails||(this.settings.scheduledEmails=[]),this.settings.scheduledEmails.push(i),await this.saveSettings()})()})}async createNotificationAndMarkProcessed(e){try{await this.createNotificationInternal(e)}catch(i){this.log(`Error procesando notificaci\xF3n confirmada: ${i}`)}}log(e){this.settings.debugMode&&console.debug(`[Notelert] ${e}`)}async handleTokenLink(e){let i=e.token;if(!i){new K.Notice((0,te.getTranslation)(this.settings.language,"notices.tokenLinkError")||"Token no encontrado en el enlace"),this.log("Error: token no encontrado en deep link");return}try{if(i.length!==64){new K.Notice((0,te.getTranslation)(this.settings.language,"notices.tokenInvalidFormat")||"Formato de token inv\xE1lido"),this.log(`Error: token con formato inv\xE1lido (longitud: ${i.length})`);return}this.settings.pluginToken=i.trim(),await this.saveSettings(),new K.Notice((0,te.getTranslation)(this.settings.language,"notices.tokenLinked")||"Token vinculado correctamente"),this.log("Token vinculado correctamente desde la app m\xF3vil"),setTimeout(()=>{try{let o=this.app.plugins,a=this.manifest.id;this.log(`Reiniciando plugin ${a}...`),o.disablePlugin(a).then(()=>{o.enablePlugin(a)})}catch(o){this.log(`Error al reiniciar el plugin: ${o}`)}},1e3)}catch(o){let a=o instanceof Error?o.message:String(o);new K.Notice((0,te.getTranslation)(this.settings.language,"notices.tokenLinkError")||`Error al vincular token: ${a}`),this.log(`Error al vincular token: ${a}`)}}},dt=be;
