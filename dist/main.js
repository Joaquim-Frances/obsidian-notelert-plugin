var S=Object.create,M=Object.defineProperty,H=Object.getPrototypeOf,O=Object.prototype.hasOwnProperty,C=Object.getOwnPropertyNames,I=Object.getOwnPropertyDescriptor;var D=u=>M(u,"__esModule",{value:!0});var T=(u,e)=>{for(var t in e)M(u,t,{get:e[t],enumerable:!0})},E=(u,e,t)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of C(e))!O.call(u,s)&&s!=="default"&&M(u,s,{get:()=>e[s],enumerable:!(t=I(e,s))||t.enumerable});return u},k=u=>E(D(M(u!=null?S(H(u)):{},"default",u&&u.__esModule&&"default"in u?{get:()=>u.default,enumerable:!0}:{value:u,enumerable:!0})),u);D(exports);T(exports,{default:()=>L});var d=k(require("obsidian"));var b=[{code:"es",name:"Spanish",nativeName:"Espa\xF1ol",keywords:["Recordar:","Notificar:","Alerta:","Recordatorio:","Aviso:","Reminder:","Notify:","Alert:"],datePatterns:{today:["hoy"],tomorrow:["ma\xF1ana"],yesterday:["ayer"]},timePatterns:{format24h:["HH:MM","H:MM"],format12h:["HH:MM AM/PM","H:MM AM/PM"]}},{code:"ca",name:"Catalan",nativeName:"Catal\xE0",keywords:["Recordar:","Notificar:","Alerta:","Recordatori:","Av\xEDs:","Reminder:","Notify:","Alert:"],datePatterns:{today:["avui"],tomorrow:["dem\xE0"],yesterday:["ahir"]},timePatterns:{format24h:["HH:MM","H:MM"],format12h:["HH:MM AM/PM","H:MM AM/PM"]}},{code:"en",name:"English",nativeName:"English",keywords:["Remember:","Notify:","Alert:","Reminder:","Notice:","Remind:","Alert:","Warning:"],datePatterns:{today:["today"],tomorrow:["tomorrow"],yesterday:["yesterday"]},timePatterns:{format24h:["HH:MM","H:MM"],format12h:["HH:MM AM/PM","H:MM AM/PM"]}},{code:"fr",name:"French",nativeName:"Fran\xE7ais",keywords:["Rappeler:","Notifier:","Alerte:","Rappel:","Avis:","Reminder:","Notify:","Alert:"],datePatterns:{today:["aujourd'hui","aujourd hui"],tomorrow:["demain"],yesterday:["hier"]},timePatterns:{format24h:["HH:MM","H:MM"],format12h:["HH:MM AM/PM","H:MM AM/PM"]}},{code:"de",name:"German",nativeName:"Deutsch",keywords:["Erinnern:","Benachrichtigen:","Alarm:","Erinnerung:","Hinweis:","Reminder:","Notify:","Alert:"],datePatterns:{today:["heute"],tomorrow:["morgen"],yesterday:["gestern"]},timePatterns:{format24h:["HH:MM","H:MM"],format12h:["HH:MM AM/PM","H:MM AM/PM"]}},{code:"it",name:"Italian",nativeName:"Italiano",keywords:["Ricordare:","Notificare:","Allerta:","Promemoria:","Avviso:","Reminder:","Notify:","Alert:"],datePatterns:{today:["oggi"],tomorrow:["domani"],yesterday:["ieri"]},timePatterns:{format24h:["HH:MM","H:MM"],format12h:["HH:MM AM/PM","H:MM AM/PM"]}},{code:"pt",name:"Portuguese",nativeName:"Portugu\xEAs",keywords:["Lembrar:","Notificar:","Alerta:","Lembrete:","Aviso:","Reminder:","Notify:","Alert:"],datePatterns:{today:["hoje"],tomorrow:["amanh\xE3","amanha"],yesterday:["ontem"]},timePatterns:{format24h:["HH:MM","H:MM"],format12h:["HH:MM AM/PM","H:MM AM/PM"]}},{code:"ru",name:"Russian",nativeName:"\u0420\u0443\u0441\u0441\u043A\u0438\u0439",keywords:["\u041D\u0430\u043F\u043E\u043C\u043D\u0438\u0442\u044C:","\u0423\u0432\u0435\u0434\u043E\u043C\u0438\u0442\u044C:","\u0422\u0440\u0435\u0432\u043E\u0433\u0430:","\u041D\u0430\u043F\u043E\u043C\u0438\u043D\u0430\u043D\u0438\u0435:","\u0423\u0432\u0435\u0434\u043E\u043C\u043B\u0435\u043D\u0438\u0435:","Reminder:","Notify:","Alert:"],datePatterns:{today:["\u0441\u0435\u0433\u043E\u0434\u043D\u044F"],tomorrow:["\u0437\u0430\u0432\u0442\u0440\u0430"],yesterday:["\u0432\u0447\u0435\u0440\u0430"]},timePatterns:{format24h:["HH:MM","H:MM"],format12h:["HH:MM AM/PM","H:MM AM/PM"]}},{code:"ja",name:"Japanese",nativeName:"\u65E5\u672C\u8A9E",keywords:["\u899A\u3048\u3066:","\u901A\u77E5:","\u30A2\u30E9\u30FC\u30C8:","\u30EA\u30DE\u30A4\u30F3\u30C0\u30FC:","\u304A\u77E5\u3089\u305B:","Reminder:","Notify:","Alert:"],datePatterns:{today:["\u4ECA\u65E5","\u304D\u3087\u3046"],tomorrow:["\u660E\u65E5","\u3042\u3057\u305F"],yesterday:["\u6628\u65E5","\u304D\u306E\u3046"]},timePatterns:{format24h:["HH:MM","H:MM"],format12h:["HH:MM AM/PM","H:MM AM/PM"]}},{code:"zh",name:"Chinese",nativeName:"\u4E2D\u6587",keywords:["\u8BB0\u4F4F:","\u901A\u77E5:","\u8B66\u62A5:","\u63D0\u9192:","\u6CE8\u610F:","Reminder:","Notify:","Alert:"],datePatterns:{today:["\u4ECA\u5929"],tomorrow:["\u660E\u5929"],yesterday:["\u6628\u5929"]},timePatterns:{format24h:["HH:MM","H:MM"],format12h:["HH:MM AM/PM","H:MM AM/PM"]}},{code:"ar",name:"Arabic",nativeName:"\u0627\u0644\u0639\u0631\u0628\u064A\u0629",keywords:["\u062A\u0630\u0643\u0631:","\u0625\u0634\u0639\u0627\u0631:","\u062A\u0646\u0628\u064A\u0647:","\u062A\u0630\u0643\u064A\u0631:","\u062A\u0646\u0628\u064A\u0647:","Reminder:","Notify:","Alert:"],datePatterns:{today:["\u0627\u0644\u064A\u0648\u0645"],tomorrow:["\u063A\u062F\u0627\u064B","\u063A\u062F\u0627"],yesterday:["\u0623\u0645\u0633"]},timePatterns:{format24h:["HH:MM","H:MM"],format12h:["HH:MM AM/PM","H:MM AM/PM"]}}],w={es:{settings:{title:"Configuraci\xF3n de Notelert",autoProcess:"Procesamiento autom\xE1tico",autoProcessDesc:"Activar el procesamiento autom\xE1tico de patrones",processOnSave:"Procesar al guardar",processOnSaveDesc:"Procesar autom\xE1ticamente cuando se guarda una nota",processOnOpen:"Procesar al abrir",processOnOpenDesc:"Procesar autom\xE1ticamente cuando se abre una nota",debugMode:"Modo debug",debugModeDesc:"Mostrar mensajes de debug en la consola",language:"Idioma",languageDesc:"Seleccionar idioma para detecci\xF3n de patrones",excludedFolders:"Carpetas excluidas",excludedFoldersDesc:"Carpetas que no se procesar\xE1n (separadas por comas)",customPatterns:"Palabras clave personalizadas",customPatternsDesc:"Palabras que activan el procesamiento (separadas por comas)",useDebounce:"Usar retraso inteligente",useDebounceDesc:"Esperar a que termines de escribir antes de procesar (evita notificaciones duplicadas)",debounceDelay:"Tiempo de espera (segundos)",debounceDelayDesc:"Tiempo a esperar despu\xE9s del \xFAltimo cambio antes de procesar",showConfirmationModal:"Mostrar modal de confirmaci\xF3n",showConfirmationModalDesc:"Preguntar antes de crear cada notificaci\xF3n",addVisualIndicators:"A\xF1adir iconos visuales",addVisualIndicatorsDesc:"A\xF1adir iconos a los recordatorios procesados para identificarlos visualmente",visualIndicatorIcon:"Icono visual",visualIndicatorIconDesc:"Icono a a\xF1adir al final de los recordatorios procesados",supportedPatterns:"Patrones Soportados",keywords:"Palabras clave",dates:"Fechas:",times:"Horas:",examples:"Ejemplos:"},commands:{processCurrentNote:"Procesar nota actual para Notelert",processAllNotes:"Procesar todas las notas para Notelert",clearProcessedHistory:"Limpiar historial de procesamiento"},notices:{noActiveNote:"No hay ninguna nota abierta para procesar",processedNotes:"Procesadas {count} notas para Notelert",processedNote:"Procesada: {filename} ({count} notificaciones)",clearedHistory:"Historial de procesamiento limpiado",errorCreatingNotification:"Error creando notificaci\xF3n: {title}",defaultTitle:"Recordatorio"},modal:{title:"\xBFCrear notificaci\xF3n en Notelert?",titleLabel:"T\xEDtulo:",dateLabel:"Fecha:",timeLabel:"Hora:",messageLabel:"Mensaje:",confirmButton:"S\xED, crear notificaci\xF3n",cancelButton:"Cancelar"}},en:{settings:{title:"Notelert Settings",autoProcess:"Automatic processing",autoProcessDesc:"Enable automatic pattern processing",processOnSave:"Process on save",processOnSaveDesc:"Automatically process when saving a note",processOnOpen:"Process on open",processOnOpenDesc:"Automatically process when opening a note",debugMode:"Debug mode",debugModeDesc:"Show debug messages in console",language:"Language",languageDesc:"Select language for pattern detection",excludedFolders:"Excluded folders",excludedFoldersDesc:"Folders that will not be processed (comma separated)",customPatterns:"Custom keywords",customPatternsDesc:"Words that trigger processing (comma separated)",useDebounce:"Use smart delay",useDebounceDesc:"Wait for you to finish typing before processing (prevents duplicate notifications)",debounceDelay:"Wait time (seconds)",debounceDelayDesc:"Time to wait after last change before processing",showConfirmationModal:"Show confirmation modal",showConfirmationModalDesc:"Ask before creating each notification",addVisualIndicators:"Add visual indicators",addVisualIndicatorsDesc:"Add icons to processed reminders to identify them visually",visualIndicatorIcon:"Visual icon",visualIndicatorIconDesc:"Icon to add at the end of processed reminders",supportedPatterns:"Supported Patterns",keywords:"Keywords",dates:"Dates:",times:"Times:",examples:"Examples:"},commands:{processCurrentNote:"Process current note for Notelert",processAllNotes:"Process all notes for Notelert",clearProcessedHistory:"Clear processing history"},notices:{noActiveNote:"No active note to process",processedNotes:"Processed {count} notes for Notelert",processedNote:"Processed: {filename} ({count} notifications)",clearedHistory:"Processing history cleared",errorCreatingNotification:"Error creating notification: {title}",defaultTitle:"Reminder"},modal:{title:"Create notification in Notelert?",titleLabel:"Title:",dateLabel:"Date:",timeLabel:"Time:",messageLabel:"Message:",confirmButton:"Yes, create notification",cancelButton:"Cancel"}},ca:{settings:{title:"Configuraci\xF3 de Notelert",autoProcess:"Processament autom\xE0tic",autoProcessDesc:"Activar el processament autom\xE0tic de patrons",processOnSave:"Processar en desar",processOnSaveDesc:"Processar autom\xE0ticament quan es desa una nota",processOnOpen:"Processar en obrir",processOnOpenDesc:"Processar autom\xE0ticament quan s'obre una nota",debugMode:"Mode debug",debugModeDesc:"Mostrar missatges de debug a la consola",language:"Idioma",languageDesc:"Seleccionar idioma per a la detecci\xF3 de patrons",excludedFolders:"Carpetes excloses",excludedFoldersDesc:"Carpetes que no es processaran (separades per comes)",customPatterns:"Paraules clau personalitzades",customPatternsDesc:"Paraules que activen el processament (separades per comes)",useDebounce:"Usar retard intel\xB7ligent",useDebounceDesc:"Esperar que acabis d'escriure abans de processar (evita notificacions duplicades)",debounceDelay:"Temps d'espera (segons)",debounceDelayDesc:"Temps a esperar despr\xE9s del darrer canvi abans de processar",showConfirmationModal:"Mostrar modal de confirmaci\xF3",showConfirmationModalDesc:"Preguntar abans de crear cada notificaci\xF3",addVisualIndicators:"Afegir indicadors visuals",addVisualIndicatorsDesc:"Afegir icones als recordatoris processats per identificar-los visualment",visualIndicatorIcon:"Icona visual",visualIndicatorIconDesc:"Icona a afegir al final dels recordatoris processats",supportedPatterns:"Patrons Suportats",keywords:"Paraules clau",dates:"Dates:",times:"Hores:",examples:"Exemples:"},commands:{processCurrentNote:"Processar nota actual per a Notelert",processAllNotes:"Processar totes les notes per a Notelert",clearProcessedHistory:"Netejar historial de processament"},notices:{noActiveNote:"No hi ha cap nota oberta per processar",processedNotes:"Processades {count} notes per a Notelert",processedNote:"Processada: {filename} ({count} notificacions)",clearedHistory:"Historial de processament netejat",errorCreatingNotification:"Error creant notificaci\xF3: {title}",defaultTitle:"Recordatori"},modal:{title:"Crear notificaci\xF3 a Notelert?",titleLabel:"T\xEDtol:",dateLabel:"Data:",timeLabel:"Hora:",messageLabel:"Missatge:",confirmButton:"S\xED, crear notificaci\xF3",cancelButton:"Cancel\xB7lar"}},fr:{settings:{title:"Param\xE8tres Notelert",autoProcess:"Traitement automatique",autoProcessDesc:"Activer le traitement automatique des motifs",processOnSave:"Traiter \xE0 la sauvegarde",processOnSaveDesc:"Traiter automatiquement lors de la sauvegarde d'une note",processOnOpen:"Traiter \xE0 l'ouverture",processOnOpenDesc:"Traiter automatiquement lors de l'ouverture d'une note",debugMode:"Mode debug",debugModeDesc:"Afficher les messages de debug dans la console",language:"Langue",languageDesc:"S\xE9lectionner la langue pour la d\xE9tection de motifs",excludedFolders:"Dossiers exclus",excludedFoldersDesc:"Dossiers qui ne seront pas trait\xE9s (s\xE9par\xE9s par des virgules)",customPatterns:"Mots-cl\xE9s personnalis\xE9s",customPatternsDesc:"Mots qui d\xE9clenchent le traitement (s\xE9par\xE9s par des virgules)",supportedPatterns:"Motifs Support\xE9s",keywords:"Mots-cl\xE9s",dates:"Dates:",times:"Heures:",examples:"Exemples:"},commands:{processCurrentNote:"Traiter la note actuelle pour Notelert",processAllNotes:"Traiter toutes les notes pour Notelert",clearProcessedHistory:"Effacer l'historique de traitement"},notices:{noActiveNote:"Aucune note active \xE0 traiter",processedNotes:"Trait\xE9es {count} notes pour Notelert",processedNote:"Trait\xE9: {filename} ({count} notifications)",clearedHistory:"Historique de traitement effac\xE9",errorCreatingNotification:"Erreur lors de la cr\xE9ation de la notification: {title}",defaultTitle:"Rappel"}},de:{settings:{title:"Notelert Einstellungen",autoProcess:"Automatische Verarbeitung",autoProcessDesc:"Automatische Musterverarbeitung aktivieren",processOnSave:"Beim Speichern verarbeiten",processOnSaveDesc:"Automatisch verarbeiten beim Speichern einer Notiz",processOnOpen:"Beim \xD6ffnen verarbeiten",processOnOpenDesc:"Automatisch verarbeiten beim \xD6ffnen einer Notiz",debugMode:"Debug-Modus",debugModeDesc:"Debug-Nachrichten in der Konsole anzeigen",language:"Sprache",languageDesc:"Sprache f\xFCr Mustererkennung ausw\xE4hlen",excludedFolders:"Ausgeschlossene Ordner",excludedFoldersDesc:"Ordner, die nicht verarbeitet werden (durch Kommas getrennt)",customPatterns:"Benutzerdefinierte Schl\xFCsselw\xF6rter",customPatternsDesc:"W\xF6rter, die die Verarbeitung ausl\xF6sen (durch Kommas getrennt)",supportedPatterns:"Unterst\xFCtzte Muster",keywords:"Schl\xFCsselw\xF6rter",dates:"Daten:",times:"Zeiten:",examples:"Beispiele:"},commands:{processCurrentNote:"Aktuelle Notiz f\xFCr Notelert verarbeiten",processAllNotes:"Alle Notizen f\xFCr Notelert verarbeiten",clearProcessedHistory:"Verarbeitungshistorie l\xF6schen"},notices:{noActiveNote:"Keine aktive Notiz zum Verarbeiten",processedNotes:"Verarbeitet {count} Notizen f\xFCr Notelert",processedNote:"Verarbeitet: {filename} ({count} Benachrichtigungen)",clearedHistory:"Verarbeitungshistorie gel\xF6scht",errorCreatingNotification:"Fehler beim Erstellen der Benachrichtigung: {title}",defaultTitle:"Erinnerung"}},it:{settings:{title:"Impostazioni Notelert",autoProcess:"Elaborazione automatica",autoProcessDesc:"Abilita l'elaborazione automatica dei pattern",processOnSave:"Elabora al salvare",processOnSaveDesc:"Elabora automaticamente quando si salva una nota",processOnOpen:"Elabora all'apertura",processOnOpenDesc:"Elabora automaticamente quando si apre una nota",debugMode:"Modalit\xE0 debug",debugModeDesc:"Mostra i messaggi di debug nella console",language:"Lingua",languageDesc:"Seleziona la lingua per il rilevamento dei pattern",excludedFolders:"Cartelle escluse",excludedFoldersDesc:"Cartelle che non verranno elaborate (separate da virgole)",customPatterns:"Parole chiave personalizzate",customPatternsDesc:"Parole che attivano l'elaborazione (separate da virgole)",supportedPatterns:"Pattern Supportati",keywords:"Parole chiave",dates:"Date:",times:"Orari:",examples:"Esempi:"},commands:{processCurrentNote:"Elabora nota corrente per Notelert",processAllNotes:"Elabora tutte le note per Notelert",clearProcessedHistory:"Cancella cronologia elaborazione"},notices:{noActiveNote:"Nessuna nota attiva da elaborare",processedNotes:"Elaborate {count} note per Notelert",processedNote:"Elaborata: {filename} ({count} notifiche)",clearedHistory:"Cronologia elaborazione cancellata",errorCreatingNotification:"Errore nella creazione della notifica: {title}",defaultTitle:"Promemoria"}},pt:{settings:{title:"Configura\xE7\xF5es Notelert",autoProcess:"Processamento autom\xE1tico",autoProcessDesc:"Ativar processamento autom\xE1tico de padr\xF5es",processOnSave:"Processar ao salvar",processOnSaveDesc:"Processar automaticamente ao salvar uma nota",processOnOpen:"Processar ao abrir",processOnOpenDesc:"Processar automaticamente ao abrir uma nota",debugMode:"Modo debug",debugModeDesc:"Mostrar mensagens de debug no console",language:"Idioma",languageDesc:"Selecionar idioma para detec\xE7\xE3o de padr\xF5es",excludedFolders:"Pastas exclu\xEDdas",excludedFoldersDesc:"Pastas que n\xE3o ser\xE3o processadas (separadas por v\xEDrgulas)",customPatterns:"Palavras-chave personalizadas",customPatternsDesc:"Palavras que ativam o processamento (separadas por v\xEDrgulas)",supportedPatterns:"Padr\xF5es Suportados",keywords:"Palavras-chave",dates:"Datas:",times:"Hor\xE1rios:",examples:"Exemplos:"},commands:{processCurrentNote:"Processar nota atual para Notelert",processAllNotes:"Processar todas as notas para Notelert",clearProcessedHistory:"Limpar hist\xF3rico de processamento"},notices:{noActiveNote:"Nenhuma nota ativa para processar",processedNotes:"Processadas {count} notas para Notelert",processedNote:"Processada: {filename} ({count} notifica\xE7\xF5es)",clearedHistory:"Hist\xF3rico de processamento limpo",errorCreatingNotification:"Erro ao criar notifica\xE7\xE3o: {title}",defaultTitle:"Lembrete"}},ru:{settings:{title:"\u041D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438 Notelert",autoProcess:"\u0410\u0432\u0442\u043E\u043C\u0430\u0442\u0438\u0447\u0435\u0441\u043A\u0430\u044F \u043E\u0431\u0440\u0430\u0431\u043E\u0442\u043A\u0430",autoProcessDesc:"\u0412\u043A\u043B\u044E\u0447\u0438\u0442\u044C \u0430\u0432\u0442\u043E\u043C\u0430\u0442\u0438\u0447\u0435\u0441\u043A\u0443\u044E \u043E\u0431\u0440\u0430\u0431\u043E\u0442\u043A\u0443 \u0448\u0430\u0431\u043B\u043E\u043D\u043E\u0432",processOnSave:"\u041E\u0431\u0440\u0430\u0431\u0430\u0442\u044B\u0432\u0430\u0442\u044C \u043F\u0440\u0438 \u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u0438\u0438",processOnSaveDesc:"\u0410\u0432\u0442\u043E\u043C\u0430\u0442\u0438\u0447\u0435\u0441\u043A\u0438 \u043E\u0431\u0440\u0430\u0431\u0430\u0442\u044B\u0432\u0430\u0442\u044C \u043F\u0440\u0438 \u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u0438\u0438 \u0437\u0430\u043C\u0435\u0442\u043A\u0438",processOnOpen:"\u041E\u0431\u0440\u0430\u0431\u0430\u0442\u044B\u0432\u0430\u0442\u044C \u043F\u0440\u0438 \u043E\u0442\u043A\u0440\u044B\u0442\u0438\u0438",processOnOpenDesc:"\u0410\u0432\u0442\u043E\u043C\u0430\u0442\u0438\u0447\u0435\u0441\u043A\u0438 \u043E\u0431\u0440\u0430\u0431\u0430\u0442\u044B\u0432\u0430\u0442\u044C \u043F\u0440\u0438 \u043E\u0442\u043A\u0440\u044B\u0442\u0438\u0438 \u0437\u0430\u043C\u0435\u0442\u043A\u0438",debugMode:"\u0420\u0435\u0436\u0438\u043C \u043E\u0442\u043B\u0430\u0434\u043A\u0438",debugModeDesc:"\u041F\u043E\u043A\u0430\u0437\u044B\u0432\u0430\u0442\u044C \u0441\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u044F \u043E\u0442\u043B\u0430\u0434\u043A\u0438 \u0432 \u043A\u043E\u043D\u0441\u043E\u043B\u0438",language:"\u042F\u0437\u044B\u043A",languageDesc:"\u0412\u044B\u0431\u0440\u0430\u0442\u044C \u044F\u0437\u044B\u043A \u0434\u043B\u044F \u043E\u0431\u043D\u0430\u0440\u0443\u0436\u0435\u043D\u0438\u044F \u0448\u0430\u0431\u043B\u043E\u043D\u043E\u0432",excludedFolders:"\u0418\u0441\u043A\u043B\u044E\u0447\u0435\u043D\u043D\u044B\u0435 \u043F\u0430\u043F\u043A\u0438",excludedFoldersDesc:"\u041F\u0430\u043F\u043A\u0438, \u043A\u043E\u0442\u043E\u0440\u044B\u0435 \u043D\u0435 \u0431\u0443\u0434\u0443\u0442 \u043E\u0431\u0440\u0430\u0431\u0430\u0442\u044B\u0432\u0430\u0442\u044C\u0441\u044F (\u0440\u0430\u0437\u0434\u0435\u043B\u0435\u043D\u043D\u044B\u0435 \u0437\u0430\u043F\u044F\u0442\u044B\u043C\u0438)",customPatterns:"\u041F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044C\u0441\u043A\u0438\u0435 \u043A\u043B\u044E\u0447\u0435\u0432\u044B\u0435 \u0441\u043B\u043E\u0432\u0430",customPatternsDesc:"\u0421\u043B\u043E\u0432\u0430, \u043A\u043E\u0442\u043E\u0440\u044B\u0435 \u0437\u0430\u043F\u0443\u0441\u043A\u0430\u044E\u0442 \u043E\u0431\u0440\u0430\u0431\u043E\u0442\u043A\u0443 (\u0440\u0430\u0437\u0434\u0435\u043B\u0435\u043D\u043D\u044B\u0435 \u0437\u0430\u043F\u044F\u0442\u044B\u043C\u0438)",supportedPatterns:"\u041F\u043E\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u043C\u044B\u0435 \u0428\u0430\u0431\u043B\u043E\u043D\u044B",keywords:"\u041A\u043B\u044E\u0447\u0435\u0432\u044B\u0435 \u0441\u043B\u043E\u0432\u0430",dates:"\u0414\u0430\u0442\u044B:",times:"\u0412\u0440\u0435\u043C\u0435\u043D\u0430:",examples:"\u041F\u0440\u0438\u043C\u0435\u0440\u044B:"},commands:{processCurrentNote:"\u041E\u0431\u0440\u0430\u0431\u043E\u0442\u0430\u0442\u044C \u0442\u0435\u043A\u0443\u0449\u0443\u044E \u0437\u0430\u043C\u0435\u0442\u043A\u0443 \u0434\u043B\u044F Notelert",processAllNotes:"\u041E\u0431\u0440\u0430\u0431\u043E\u0442\u0430\u0442\u044C \u0432\u0441\u0435 \u0437\u0430\u043C\u0435\u0442\u043A\u0438 \u0434\u043B\u044F Notelert",clearProcessedHistory:"\u041E\u0447\u0438\u0441\u0442\u0438\u0442\u044C \u0438\u0441\u0442\u043E\u0440\u0438\u044E \u043E\u0431\u0440\u0430\u0431\u043E\u0442\u043A\u0438"},notices:{noActiveNote:"\u041D\u0435\u0442 \u0430\u043A\u0442\u0438\u0432\u043D\u043E\u0439 \u0437\u0430\u043C\u0435\u0442\u043A\u0438 \u0434\u043B\u044F \u043E\u0431\u0440\u0430\u0431\u043E\u0442\u043A\u0438",processedNotes:"\u041E\u0431\u0440\u0430\u0431\u043E\u0442\u0430\u043D\u043E {count} \u0437\u0430\u043C\u0435\u0442\u043E\u043A \u0434\u043B\u044F Notelert",processedNote:"\u041E\u0431\u0440\u0430\u0431\u043E\u0442\u0430\u043D\u043E: {filename} ({count} \u0443\u0432\u0435\u0434\u043E\u043C\u043B\u0435\u043D\u0438\u0439)",clearedHistory:"\u0418\u0441\u0442\u043E\u0440\u0438\u044F \u043E\u0431\u0440\u0430\u0431\u043E\u0442\u043A\u0438 \u043E\u0447\u0438\u0449\u0435\u043D\u0430",errorCreatingNotification:"\u041E\u0448\u0438\u0431\u043A\u0430 \u0441\u043E\u0437\u0434\u0430\u043D\u0438\u044F \u0443\u0432\u0435\u0434\u043E\u043C\u043B\u0435\u043D\u0438\u044F: {title}",defaultTitle:"\u041D\u0430\u043F\u043E\u043C\u0438\u043D\u0430\u043D\u0438\u0435"}},ja:{settings:{title:"Notelert\u8A2D\u5B9A",autoProcess:"\u81EA\u52D5\u51E6\u7406",autoProcessDesc:"\u30D1\u30BF\u30FC\u30F3\u306E\u81EA\u52D5\u51E6\u7406\u3092\u6709\u52B9\u306B\u3059\u308B",processOnSave:"\u4FDD\u5B58\u6642\u306B\u51E6\u7406",processOnSaveDesc:"\u30CE\u30FC\u30C8\u3092\u4FDD\u5B58\u3059\u308B\u969B\u306B\u81EA\u52D5\u51E6\u7406\u3059\u308B",processOnOpen:"\u958B\u304F\u6642\u306B\u51E6\u7406",processOnOpenDesc:"\u30CE\u30FC\u30C8\u3092\u958B\u304F\u969B\u306B\u81EA\u52D5\u51E6\u7406\u3059\u308B",debugMode:"\u30C7\u30D0\u30C3\u30B0\u30E2\u30FC\u30C9",debugModeDesc:"\u30B3\u30F3\u30BD\u30FC\u30EB\u306B\u30C7\u30D0\u30C3\u30B0\u30E1\u30C3\u30BB\u30FC\u30B8\u3092\u8868\u793A",language:"\u8A00\u8A9E",languageDesc:"\u30D1\u30BF\u30FC\u30F3\u691C\u51FA\u306E\u8A00\u8A9E\u3092\u9078\u629E",excludedFolders:"\u9664\u5916\u30D5\u30A9\u30EB\u30C0",excludedFoldersDesc:"\u51E6\u7406\u3055\u308C\u306A\u3044\u30D5\u30A9\u30EB\u30C0\uFF08\u30AB\u30F3\u30DE\u533A\u5207\u308A\uFF09",customPatterns:"\u30AB\u30B9\u30BF\u30E0\u30AD\u30FC\u30EF\u30FC\u30C9",customPatternsDesc:"\u51E6\u7406\u3092\u30C8\u30EA\u30AC\u30FC\u3059\u308B\u5358\u8A9E\uFF08\u30AB\u30F3\u30DE\u533A\u5207\u308A\uFF09",supportedPatterns:"\u30B5\u30DD\u30FC\u30C8\u3055\u308C\u308B\u30D1\u30BF\u30FC\u30F3",keywords:"\u30AD\u30FC\u30EF\u30FC\u30C9",dates:"\u65E5\u4ED8:",times:"\u6642\u9593:",examples:"\u4F8B:"},commands:{processCurrentNote:"\u73FE\u5728\u306E\u30CE\u30FC\u30C8\u3092Notelert\u7528\u306B\u51E6\u7406",processAllNotes:"\u3059\u3079\u3066\u306E\u30CE\u30FC\u30C8\u3092Notelert\u7528\u306B\u51E6\u7406",clearProcessedHistory:"\u51E6\u7406\u5C65\u6B74\u3092\u30AF\u30EA\u30A2"},notices:{noActiveNote:"\u51E6\u7406\u3059\u308B\u30A2\u30AF\u30C6\u30A3\u30D6\u306A\u30CE\u30FC\u30C8\u304C\u3042\u308A\u307E\u305B\u3093",processedNotes:"Notelert\u7528\u306B{count}\u500B\u306E\u30CE\u30FC\u30C8\u3092\u51E6\u7406\u3057\u307E\u3057\u305F",processedNote:"\u51E6\u7406\u6E08\u307F: {filename} ({count}\u500B\u306E\u901A\u77E5)",clearedHistory:"\u51E6\u7406\u5C65\u6B74\u3092\u30AF\u30EA\u30A2\u3057\u307E\u3057\u305F",errorCreatingNotification:"\u901A\u77E5\u306E\u4F5C\u6210\u30A8\u30E9\u30FC: {title}",defaultTitle:"\u30EA\u30DE\u30A4\u30F3\u30C0\u30FC"}},zh:{settings:{title:"Notelert\u8BBE\u7F6E",autoProcess:"\u81EA\u52A8\u5904\u7406",autoProcessDesc:"\u542F\u7528\u6A21\u5F0F\u81EA\u52A8\u5904\u7406",processOnSave:"\u4FDD\u5B58\u65F6\u5904\u7406",processOnSaveDesc:"\u4FDD\u5B58\u7B14\u8BB0\u65F6\u81EA\u52A8\u5904\u7406",processOnOpen:"\u6253\u5F00\u65F6\u5904\u7406",processOnOpenDesc:"\u6253\u5F00\u7B14\u8BB0\u65F6\u81EA\u52A8\u5904\u7406",debugMode:"\u8C03\u8BD5\u6A21\u5F0F",debugModeDesc:"\u5728\u63A7\u5236\u53F0\u663E\u793A\u8C03\u8BD5\u6D88\u606F",language:"\u8BED\u8A00",languageDesc:"\u9009\u62E9\u6A21\u5F0F\u68C0\u6D4B\u8BED\u8A00",excludedFolders:"\u6392\u9664\u6587\u4EF6\u5939",excludedFoldersDesc:"\u4E0D\u4F1A\u5904\u7406\u7684\u6587\u4EF6\u5939\uFF08\u9017\u53F7\u5206\u9694\uFF09",customPatterns:"\u81EA\u5B9A\u4E49\u5173\u952E\u8BCD",customPatternsDesc:"\u89E6\u53D1\u5904\u7406\u7684\u5355\u8BCD\uFF08\u9017\u53F7\u5206\u9694\uFF09",supportedPatterns:"\u652F\u6301\u7684\u6A21\u5F0F",keywords:"\u5173\u952E\u8BCD",dates:"\u65E5\u671F:",times:"\u65F6\u95F4:",examples:"\u793A\u4F8B:"},commands:{processCurrentNote:"\u5904\u7406\u5F53\u524D\u7B14\u8BB0\u7528\u4E8ENotelert",processAllNotes:"\u5904\u7406\u6240\u6709\u7B14\u8BB0\u7528\u4E8ENotelert",clearProcessedHistory:"\u6E05\u9664\u5904\u7406\u5386\u53F2"},notices:{noActiveNote:"\u6CA1\u6709\u8981\u5904\u7406\u7684\u6D3B\u8DC3\u7B14\u8BB0",processedNotes:"\u4E3ANotelert\u5904\u7406\u4E86{count}\u4E2A\u7B14\u8BB0",processedNote:"\u5DF2\u5904\u7406: {filename} ({count}\u4E2A\u901A\u77E5)",clearedHistory:"\u5904\u7406\u5386\u53F2\u5DF2\u6E05\u9664",errorCreatingNotification:"\u521B\u5EFA\u901A\u77E5\u9519\u8BEF: {title}",defaultTitle:"\u63D0\u9192"}},ar:{settings:{title:"\u0625\u0639\u062F\u0627\u062F\u0627\u062A Notelert",autoProcess:"\u0627\u0644\u0645\u0639\u0627\u0644\u062C\u0629 \u0627\u0644\u062A\u0644\u0642\u0627\u0626\u064A\u0629",autoProcessDesc:"\u062A\u0641\u0639\u064A\u0644 \u0627\u0644\u0645\u0639\u0627\u0644\u062C\u0629 \u0627\u0644\u062A\u0644\u0642\u0627\u0626\u064A\u0629 \u0644\u0644\u0623\u0646\u0645\u0627\u0637",processOnSave:"\u0627\u0644\u0645\u0639\u0627\u0644\u062C\u0629 \u0639\u0646\u062F \u0627\u0644\u062D\u0641\u0638",processOnSaveDesc:"\u0627\u0644\u0645\u0639\u0627\u0644\u062C\u0629 \u0627\u0644\u062A\u0644\u0642\u0627\u0626\u064A\u0629 \u0639\u0646\u062F \u062D\u0641\u0638 \u0645\u0644\u0627\u062D\u0638\u0629",processOnOpen:"\u0627\u0644\u0645\u0639\u0627\u0644\u062C\u0629 \u0639\u0646\u062F \u0627\u0644\u0641\u062A\u062D",processOnOpenDesc:"\u0627\u0644\u0645\u0639\u0627\u0644\u062C\u0629 \u0627\u0644\u062A\u0644\u0642\u0627\u0626\u064A\u0629 \u0639\u0646\u062F \u0641\u062A\u062D \u0645\u0644\u0627\u062D\u0638\u0629",debugMode:"\u0648\u0636\u0639 \u0627\u0644\u062A\u0635\u062D\u064A\u062D",debugModeDesc:"\u0639\u0631\u0636 \u0631\u0633\u0627\u0626\u0644 \u0627\u0644\u062A\u0635\u062D\u064A\u062D \u0641\u064A \u0648\u062D\u062F\u0629 \u0627\u0644\u062A\u062D\u0643\u0645",language:"\u0627\u0644\u0644\u063A\u0629",languageDesc:"\u0627\u062E\u062A\u064A\u0627\u0631 \u0644\u063A\u0629 \u0627\u0643\u062A\u0634\u0627\u0641 \u0627\u0644\u0623\u0646\u0645\u0627\u0637",excludedFolders:"\u0627\u0644\u0645\u062C\u0644\u062F\u0627\u062A \u0627\u0644\u0645\u0633\u062A\u0628\u0639\u062F\u0629",excludedFoldersDesc:"\u0627\u0644\u0645\u062C\u0644\u062F\u0627\u062A \u0627\u0644\u062A\u064A \u0644\u0646 \u064A\u062A\u0645 \u0645\u0639\u0627\u0644\u062C\u062A\u0647\u0627 (\u0645\u0641\u0635\u0648\u0644\u0629 \u0628\u0641\u0648\u0627\u0635\u0644)",customPatterns:"\u0627\u0644\u0643\u0644\u0645\u0627\u062A \u0627\u0644\u0645\u0641\u062A\u0627\u062D\u064A\u0629 \u0627\u0644\u0645\u062E\u0635\u0635\u0629",customPatternsDesc:"\u0627\u0644\u0643\u0644\u0645\u0627\u062A \u0627\u0644\u062A\u064A \u062A\u0628\u062F\u0623 \u0627\u0644\u0645\u0639\u0627\u0644\u062C\u0629 (\u0645\u0641\u0635\u0648\u0644\u0629 \u0628\u0641\u0648\u0627\u0635\u0644)",supportedPatterns:"\u0627\u0644\u0623\u0646\u0645\u0627\u0637 \u0627\u0644\u0645\u062F\u0639\u0648\u0645\u0629",keywords:"\u0627\u0644\u0643\u0644\u0645\u0627\u062A \u0627\u0644\u0645\u0641\u062A\u0627\u062D\u064A\u0629",dates:"\u0627\u0644\u062A\u0648\u0627\u0631\u064A\u062E:",times:"\u0627\u0644\u0623\u0648\u0642\u0627\u062A:",examples:"\u0623\u0645\u062B\u0644\u0629:"},commands:{processCurrentNote:"\u0645\u0639\u0627\u0644\u062C\u0629 \u0627\u0644\u0645\u0644\u0627\u062D\u0638\u0629 \u0627\u0644\u062D\u0627\u0644\u064A\u0629 \u0644\u0640 Notelert",processAllNotes:"\u0645\u0639\u0627\u0644\u062C\u0629 \u062C\u0645\u064A\u0639 \u0627\u0644\u0645\u0644\u0627\u062D\u0638\u0627\u062A \u0644\u0640 Notelert",clearProcessedHistory:"\u0645\u0633\u062D \u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0645\u0639\u0627\u0644\u062C\u0629"},notices:{noActiveNote:"\u0644\u0627 \u062A\u0648\u062C\u062F \u0645\u0644\u0627\u062D\u0638\u0629 \u0646\u0634\u0637\u0629 \u0644\u0644\u0645\u0639\u0627\u0644\u062C\u0629",processedNotes:"\u062A\u0645 \u0645\u0639\u0627\u0644\u062C\u0629 {count} \u0645\u0644\u0627\u062D\u0638\u0629 \u0644\u0640 Notelert",processedNote:"\u062A\u0645 \u0627\u0644\u0645\u0639\u0627\u0644\u062C\u0629: {filename} ({count} \u0625\u0634\u0639\u0627\u0631)",clearedHistory:"\u062A\u0645 \u0645\u0633\u062D \u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0645\u0639\u0627\u0644\u062C\u0629",errorCreatingNotification:"\u062E\u0637\u0623 \u0641\u064A \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u0625\u0634\u0639\u0627\u0631: {title}",defaultTitle:"\u062A\u0630\u0643\u064A\u0631"}}};function a(u,e,t){let r=w[u]||w.en,n=e.split("."),c=r;for(let l of n)c=c?.[l];if(typeof c!="string")return e;if(t)for(let[l,o]of Object.entries(t))c=c.replace(`{${l}}`,String(o));return c}function P(u){return b.find(e=>e.code===u)}function y(){return b[0]}var A=class extends d.Modal{constructor(e,t,s,r,n){super(e);this.pattern=t,this.language=s,this.onConfirm=r,this.onCancel=n}onOpen(){let{contentEl:e}=this;e.empty(),e.createEl("h2",{text:a(this.language,"modal.title")});let t=e.createEl("div",{cls:"notelert-modal-info"});t.setAttribute("style","margin: 20px 0; padding: 15px; background: var(--background-secondary); border-radius: 6px;"),t.createEl("p",{text:`${a(this.language,"modal.titleLabel")} ${this.pattern.title}`}).setAttribute("style","margin: 8px 0; font-weight: 500;"),t.createEl("p",{text:`${a(this.language,"modal.dateLabel")} ${this.pattern.date}`}).setAttribute("style","margin: 8px 0;"),t.createEl("p",{text:`${a(this.language,"modal.timeLabel")} ${this.pattern.time}`}).setAttribute("style","margin: 8px 0;"),t.createEl("p",{text:`${a(this.language,"modal.messageLabel")} ${this.pattern.message}`}).setAttribute("style","margin: 8px 0;");let l=e.createEl("div",{cls:"notelert-modal-buttons"});l.setAttribute("style","display: flex; gap: 12px; justify-content: flex-end; margin-top: 20px;"),l.createEl("button",{text:a(this.language,"modal.cancelButton"),cls:"mod-secondary"}).addEventListener("click",()=>{this.onCancel(),this.close()}),l.createEl("button",{text:a(this.language,"modal.confirmButton"),cls:"mod-cta"}).addEventListener("click",()=>{this.onConfirm(this.pattern),this.close()})}onClose(){let{contentEl:e}=this;e.empty()}},F={autoProcess:!0,processOnSave:!0,processOnOpen:!1,debugMode:!1,language:"es",customPatterns:[],excludedFolders:["Templates","Archive","Trash"],debounceDelay:3e3,useDebounce:!0,showConfirmationModal:!1,addVisualIndicators:!0,visualIndicatorIcon:"\u23F0"},v=class extends d.Plugin{constructor(){super(...arguments);this.processedNotifications=new Map;this.debounceTimers=new Map}async onload(){console.log("Cargando plugin Notelert..."),await this.loadSettings(),this.addCommand({id:"process-current-note",name:a(this.settings.language,"commands.processCurrentNote"),callback:()=>this.processCurrentNote()}),this.addCommand({id:"process-all-notes",name:a(this.settings.language,"commands.processAllNotes"),callback:()=>this.processAllNotes()}),this.addCommand({id:"clear-processed-history",name:a(this.settings.language,"commands.clearProcessedHistory"),callback:()=>this.clearProcessedHistory()}),this.addSettingTab(new x(this.app,this)),this.settings.processOnSave&&this.registerEvent(this.app.vault.on("modify",e=>{e instanceof d.TFile&&this.shouldProcessFile(e)&&this.scheduleFileProcessing(e)})),this.settings.processOnOpen&&this.registerEvent(this.app.workspace.on("file-open",e=>{e instanceof d.TFile&&this.shouldProcessFile(e)&&this.processFile(e)})),this.addRibbonIcon("bell","Procesar nota actual",()=>{this.processCurrentNote()}),this.addStatusBarItem().setText("Notelert: Activo"),console.log("Plugin Notelert cargado correctamente")}onunload(){console.log("Descargando plugin Notelert..."),this.debounceTimers.forEach(e=>{clearTimeout(e)}),this.debounceTimers.clear()}async loadSettings(){this.settings=Object.assign({},F,await this.loadData())}async saveSettings(){await this.saveData(this.settings)}shouldProcessFile(e){if(!this.settings.autoProcess||e.extension!=="md")return!1;let t=e.parent?.path||"";return!this.settings.excludedFolders.some(s=>t.includes(s))}scheduleFileProcessing(e){let t=e.path;if(!this.settings.useDebounce){this.processFile(e);return}let s=this.debounceTimers.get(t);s&&clearTimeout(s);let r=setTimeout(()=>{this.log(`Procesando archivo despu\xE9s del debounce: ${e.name}`),this.processFile(e),this.debounceTimers.delete(t)},this.settings.debounceDelay);this.debounceTimers.set(t,r),this.log(`Programado procesamiento de ${e.name} en ${this.settings.debounceDelay}ms`)}async processCurrentNote(){let e=this.app.workspace.getActiveFile();e&&e instanceof d.TFile?await this.processFile(e):new d.Notice(a(this.settings.language,"notices.noActiveNote"))}async processAllNotes(){let e=this.app.vault.getMarkdownFiles(),t=0;for(let s of e)this.shouldProcessFile(s)&&(await this.processFile(s),t++);new d.Notice(a(this.settings.language,"notices.processedNotes",{count:t}))}async processFile(e){try{let t=await this.app.vault.read(e),s=this.detectPatterns(t,e.path);if(s.length>0){this.log(`Encontrados ${s.length} patrones en ${e.name}`);let r=this.processedNotifications.get(e.path)||new Set,n=0;for(let c of s){let l=this.createNotificationId(c);r.has(l)||(this.settings.showConfirmationModal?await this.executeNotelertDeepLink(c):(await this.executeNotelertDeepLink(c),r.add(l),n++))}this.processedNotifications.set(e.path,r),n>0&&new d.Notice(a(this.settings.language,"notices.processedNote",{filename:e.name,count:n}))}}catch(t){this.log(`Error procesando ${e.name}: ${t}`)}}detectPatterns(e,t){let s=[],r=e.split(`
`),n=P(this.settings.language)||y();for(let c=0;c<r.length;c++){let l=r[c],o=n.keywords,i=this.settings.customPatterns;if(![...o,...i].some(m=>l.toLowerCase().includes(m.toLowerCase())))continue;if(this.settings.addVisualIndicators&&this.hasVisualIndicator(l)){this.log(`L\xEDnea ya procesada (tiene icono): ${l.trim()}`);continue}let f=this.extractDateTimePatterns(l);for(let m of f){let h={text:l.trim(),title:this.extractTitle(l),message:l.trim(),date:m.date,time:m.time,fullMatch:l.trim(),startIndex:0,endIndex:l.length,filePath:t,lineNumber:c+1};s.push(h)}}return s}extractDateTimePatterns(e){let t=[],s=P(this.settings.language)||y(),r=[/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{2,4})/g,new RegExp(`\\b(${s.datePatterns.today.join("|")}|${s.datePatterns.tomorrow.join("|")}|${s.datePatterns.yesterday.join("|")})\\b`,"gi")],n=[/(\d{1,2}):(\d{2})/g,/(\d{1,2})\.(\d{2})/g];for(let o of r){let i;for(;(i=o.exec(e))!==null;){let p=n[0],N,f=[];for(p.lastIndex=0;(N=p.exec(e))!==null;)f.push(N);if(f.length>0)for(let m of f){let h=this.parseDate(i[0]),g=this.parseTime(m[0]);h&&g&&t.push({date:h,time:g})}else{let m=this.parseDate(i[0]);m&&t.push({date:m,time:"09:00"})}}}let c=n[0],l;for(c.lastIndex=0;(l=c.exec(e))!==null;){let o=this.parseTime(l[0]);if(o&&!t.some(p=>p.time===o)){let p=l.index,N=Math.max(0,p-50),f=Math.min(e.length,p+50),m=e.substring(N,f).toLowerCase(),h=null;if(s.datePatterns.tomorrow.some(g=>new RegExp(g,"i").test(m))){let g=new Date;g.setDate(g.getDate()+1),h=g.toISOString().split("T")[0]}else if(s.datePatterns.yesterday.some(g=>new RegExp(g,"i").test(m))){let g=new Date;g.setDate(g.getDate()-1),h=g.toISOString().split("T")[0]}else s.datePatterns.today.some(g=>new RegExp(g,"i").test(m))?h=new Date().toISOString().split("T")[0]:h=new Date().toISOString().split("T")[0];h&&t.push({date:h,time:o})}}return t}parseDate(e){let t=new Date,s=P(this.settings.language)||y();if(s.datePatterns.today.some(n=>new RegExp(n,"i").test(e)))return t.toISOString().split("T")[0];if(s.datePatterns.tomorrow.some(n=>new RegExp(n,"i").test(e))){let n=new Date(t);return n.setDate(n.getDate()+1),n.toISOString().split("T")[0]}if(s.datePatterns.yesterday.some(n=>new RegExp(n,"i").test(e))){let n=new Date(t);return n.setDate(n.getDate()-1),n.toISOString().split("T")[0]}let r=e.match(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{2,4})/);if(r){let n=parseInt(r[1]),c=parseInt(r[2]),l=parseInt(r[3]);l<100&&(l+=l<50?2e3:1900);let o=new Date(l,c-1,n);if(o.getFullYear()===l&&o.getMonth()===c-1&&o.getDate()===n)return o.toISOString().split("T")[0]}return null}parseTime(e){let t=e.match(/(\d{1,2})[:\.](\d{2})/);if(t){let s=parseInt(t[1]),r=parseInt(t[2]);if(s>=0&&s<=23&&r>=0&&r<=59)return`${s.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`}return null}extractTitle(e){let t=P(this.settings.language)||y(),s=e,r=[...t.keywords,...this.settings.customPatterns];for(let c of r)s=s.replace(new RegExp(c,"gi"),"").trim();s=s.replace(/\d{1,2}[\/\-]\d{1,2}[\/\-]\d{2,4}/g,""),s=s.replace(/\d{1,2}[:\.]\d{2}/g,"");let n=[...t.datePatterns.today,...t.datePatterns.tomorrow,...t.datePatterns.yesterday];for(let c of n)s=s.replace(new RegExp(`\\b${c}\\b`,"gi"),"");return s=s.replace(/\s+/g," ").trim(),s.length>50&&(s=s.substring(0,47)+"..."),s||a(this.settings.language,"notices.defaultTitle")}async executeNotelertDeepLink(e){this.settings.showConfirmationModal?new A(this.app,e,this.settings.language,t=>this.createNotificationAndMarkProcessed(t),()=>this.log(`Notificaci\xF3n cancelada: ${e.title}`)).open():this.createNotification(e)}async createNotification(e){try{let t=this.generateDeepLink(e);this.log(`Ejecutando deeplink: ${t}`),typeof window!="undefined"&&window.open&&window.open(t,"_self"),typeof window!="undefined"&&(window.location.href=t),this.settings.addVisualIndicators&&e.filePath&&await this.addVisualIndicator(e)}catch(t){this.log(`Error ejecutando deeplink: ${t}`),new d.Notice(a(this.settings.language,"notices.errorCreatingNotification",{title:e.title}))}}async createNotificationAndMarkProcessed(e){try{if(await this.createNotification(e),e.filePath){let t=this.processedNotifications.get(e.filePath)||new Set,s=this.createNotificationId(e);t.add(s),this.processedNotifications.set(e.filePath,t),new d.Notice(a(this.settings.language,"notices.processedNote",{filename:e.filePath.split("/").pop()||"archivo",count:1}))}}catch(t){this.log(`Error procesando notificaci\xF3n confirmada: ${t}`),new d.Notice(a(this.settings.language,"notices.errorCreatingNotification",{title:e.title}))}}generateDeepLink(e){let t=encodeURIComponent(e.title),s=encodeURIComponent(e.message),r=e.date,n=e.time,c="";if(e.filePath&&e.lineNumber){let l=`obsidian://open?vault=${encodeURIComponent(this.app.vault.getName())}&file=${encodeURIComponent(e.filePath)}&line=${e.lineNumber}`;c=`&returnLink=${encodeURIComponent(l)}`}return`notelert://add?title=${t}&message=${s}&date=${r}&time=${n}${c}`}createNotificationId(e){let t=this.simpleHash(e.message);return`${e.title}|${e.date}|${e.time}|${t}`}simpleHash(e){let t=0;for(let s=0;s<e.length;s++){let r=e.charCodeAt(s);t=(t<<5)-t+r,t=t&t}return Math.abs(t).toString(36)}hasVisualIndicator(e){return["\u23F0","\u{1F550}","\u{1F551}","\u{1F552}","\u{1F553}","\u{1F554}","\u{1F555}","\u{1F556}","\u{1F557}","\u{1F558}","\u{1F559}","\u{1F55A}","\u{1F55B}","\u{1F4C5}","\u{1F4C6}","\u{1F5D3}\uFE0F","\u23F1\uFE0F","\u23F2\uFE0F","\u23F3","\u231A","\u{1F514}","\u2705","\u2713","\u2714\uFE0F","\u{1F3AF}"].some(s=>e.includes(s))}async addVisualIndicator(e){try{if(!e.filePath||!e.lineNumber)return;let t=this.app.vault.getAbstractFileByPath(e.filePath);if(!t||!(t instanceof d.TFile))return;let r=(await this.app.vault.read(t)).split(`
`),n=e.lineNumber-1;if(n>=0&&n<r.length){let c=r[n];this.hasVisualIndicator(c)||(r[n]=c.trim()+` ${this.settings.visualIndicatorIcon}`,await this.app.vault.modify(t,r.join(`
`)),this.log(`Icono a\xF1adido a la l\xEDnea ${e.lineNumber} en ${t.name}`))}}catch(t){this.log(`Error a\xF1adiendo icono visual: ${t}`)}}clearProcessedHistory(){this.processedNotifications.clear(),new d.Notice(a(this.settings.language,"notices.clearedHistory"))}log(e){this.settings.debugMode&&console.log(`[Notelert] ${e}`)}},L=v,x=class extends d.PluginSettingTab{constructor(e,t){super(e,t);this.plugin=t}display(){let{containerEl:e}=this;e.empty();let t=P(this.plugin.settings.language)||y();e.createEl("h2",{text:a(this.plugin.settings.language,"settings.title")}),new d.Setting(e).setName(a(this.plugin.settings.language,"settings.language")).setDesc(a(this.plugin.settings.language,"settings.languageDesc")).addDropdown(o=>{b.forEach(i=>{o.addOption(i.code,`${i.nativeName} (${i.name})`)}),o.setValue(this.plugin.settings.language),o.onChange(async i=>{this.plugin.settings.language=i,await this.plugin.saveSettings(),this.display()})}),new d.Setting(e).setName(a(this.plugin.settings.language,"settings.autoProcess")).setDesc(a(this.plugin.settings.language,"settings.autoProcessDesc")).addToggle(o=>o.setValue(this.plugin.settings.autoProcess).onChange(async i=>{this.plugin.settings.autoProcess=i,await this.plugin.saveSettings()})),new d.Setting(e).setName(a(this.plugin.settings.language,"settings.processOnSave")).setDesc(a(this.plugin.settings.language,"settings.processOnSaveDesc")).addToggle(o=>o.setValue(this.plugin.settings.processOnSave).onChange(async i=>{this.plugin.settings.processOnSave=i,await this.plugin.saveSettings()})),new d.Setting(e).setName(a(this.plugin.settings.language,"settings.processOnOpen")).setDesc(a(this.plugin.settings.language,"settings.processOnOpenDesc")).addToggle(o=>o.setValue(this.plugin.settings.processOnOpen).onChange(async i=>{this.plugin.settings.processOnOpen=i,await this.plugin.saveSettings()})),new d.Setting(e).setName(a(this.plugin.settings.language,"settings.debugMode")).setDesc(a(this.plugin.settings.language,"settings.debugModeDesc")).addToggle(o=>o.setValue(this.plugin.settings.debugMode).onChange(async i=>{this.plugin.settings.debugMode=i,await this.plugin.saveSettings()})),new d.Setting(e).setName(a(this.plugin.settings.language,"settings.useDebounce")).setDesc(a(this.plugin.settings.language,"settings.useDebounceDesc")).addToggle(o=>o.setValue(this.plugin.settings.useDebounce).onChange(async i=>{this.plugin.settings.useDebounce=i,await this.plugin.saveSettings()})),new d.Setting(e).setName(a(this.plugin.settings.language,"settings.debounceDelay")).setDesc(a(this.plugin.settings.language,"settings.debounceDelayDesc")).addSlider(o=>o.setLimits(1,10,1).setValue(this.plugin.settings.debounceDelay/1e3).setDynamicTooltip().onChange(async i=>{this.plugin.settings.debounceDelay=i*1e3,await this.plugin.saveSettings()})),new d.Setting(e).setName(a(this.plugin.settings.language,"settings.showConfirmationModal")).setDesc(a(this.plugin.settings.language,"settings.showConfirmationModalDesc")).addToggle(o=>o.setValue(this.plugin.settings.showConfirmationModal).onChange(async i=>{this.plugin.settings.showConfirmationModal=i,await this.plugin.saveSettings()})),new d.Setting(e).setName(a(this.plugin.settings.language,"settings.addVisualIndicators")).setDesc(a(this.plugin.settings.language,"settings.addVisualIndicatorsDesc")).addToggle(o=>o.setValue(this.plugin.settings.addVisualIndicators).onChange(async i=>{this.plugin.settings.addVisualIndicators=i,await this.plugin.saveSettings()})),new d.Setting(e).setName(a(this.plugin.settings.language,"settings.visualIndicatorIcon")).setDesc(a(this.plugin.settings.language,"settings.visualIndicatorIconDesc")).addText(o=>o.setPlaceholder("\u23F0").setValue(this.plugin.settings.visualIndicatorIcon).onChange(async i=>{this.plugin.settings.visualIndicatorIcon=i||"\u23F0",await this.plugin.saveSettings()})),new d.Setting(e).setName(a(this.plugin.settings.language,"settings.excludedFolders")).setDesc(a(this.plugin.settings.language,"settings.excludedFoldersDesc")).addTextArea(o=>o.setPlaceholder("Templates, Archive, Trash").setValue(this.plugin.settings.excludedFolders.join(", ")).onChange(async i=>{this.plugin.settings.excludedFolders=i.split(",").map(p=>p.trim()).filter(p=>p.length>0),await this.plugin.saveSettings()})),new d.Setting(e).setName(a(this.plugin.settings.language,"settings.customPatterns")).setDesc(a(this.plugin.settings.language,"settings.customPatternsDesc")).addTextArea(o=>o.setPlaceholder(t.keywords.join(", ")).setValue(this.plugin.settings.customPatterns.join(", ")).onChange(async i=>{this.plugin.settings.customPatterns=i.split(",").map(p=>p.trim()).filter(p=>p.length>0),await this.plugin.saveSettings()})),e.createEl("h3",{text:a(this.plugin.settings.language,"settings.supportedPatterns")});let s=e.createEl("div",{cls:"notelert-patterns-info"}),r=t.keywords.map(o=>`"${o}"`).join(", "),n=t.datePatterns.today.join(", "),c=t.datePatterns.tomorrow.join(", "),l=t.datePatterns.yesterday.join(", ");s.innerHTML=`
      <p><strong>${a(this.plugin.settings.language,"settings.keywords")}:</strong></p>
      <ul>
        <li>${r}</li>
      </ul>
      
      <p><strong>${a(this.plugin.settings.language,"settings.dates")}</strong></p>
      <ul>
        <li>Fechas absolutas: 12/10, 15/10/2025, 12-10-2025</li>
        <li>Fechas relativas: ${n}, ${c}, ${l}</li>
      </ul>
      
      <p><strong>${a(this.plugin.settings.language,"settings.times")}</strong></p>
      <ul>
        <li>Formato 24h: 15:30, 9:00, 18:45</li>
        <li>Formato con punto: 15.30, 9.00</li>
      </ul>
      
      <p><strong>${a(this.plugin.settings.language,"settings.examples")}</strong></p>
      <ul>
        <li>"${t.keywords[0]} Reuni\xF3n importante a las 15:30"</li>
        <li>"${t.keywords[1]} Llamar al doctor ${t.datePatterns.tomorrow[0]} a las 09:00"</li>
        <li>"${t.keywords[2]} Comprar regalos el 12/10 a las 18:00"</li>
        <li>"${t.keywords[3]} Cita m\xE9dica el 15/10/2025 a las 14:30"</li>
      </ul>
    `}};
